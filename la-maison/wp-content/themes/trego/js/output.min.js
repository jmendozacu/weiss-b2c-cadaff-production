function initMegaMenu(){var t=jQuery;t(".mega-menu").each(function(){t(window).width()>767&&t(window).width()<1025&&t(".mega-menu").width()>575&&!t(".mega-menu").hasClass("abbreviate")&&t(".mega-menu").addClass("abbreviate");var e,i=170,o=t(this).find("> ul > li");e=t(window).width()<1025?698:754,o.each(function(n){var s=t(o[n]),r=s.find(".popup");if(r.length>0){if(s.hasClass("wide")){r.css("left",0);var a,l=r.find("> .inner > ul > li").length;s.hasClass("col-1")&&(a=1),s.hasClass("col-2")&&(a=2),s.hasClass("col-3")&&(a=3),s.hasClass("col-4")&&(a=4),l>a&&(l=a),col_width=i;var c=parseInt(r.find("> .inner").css("padding-left"));if(r.find("> .inner > ul > li").width(col_width),s.hasClass("pos-center")){r.find("> .inner > ul").width(col_width*l);var d=r.offset().left+c-(t(window).width()-col_width*l)/2;t(window).width()<1025?r.css("left",-d):r.css("left","100%")}else if(s.hasClass("pos-left"))r.find("> .inner > ul").width(col_width*l),t(window).width()<1025?r.css("left","-15px"):r.css("left","100%");else if(s.hasClass("pos-right"))r.find("> .inner > ul").width(col_width*l),r.css(t(window).width()<1025?{left:"auto",right:"-15px"}:{left:"100%",right:"auto"});else{r.find("> .inner > ul").width(e),r.find("> .inner > ul > li").width(e/l);var d=r.offset().left+c-(t(window).width()-e)/2;t(window).width()<1025?r.css("left",-d):r.css("left","100%")}}if(mega_menu_height_set||(s.data("original_height",s.find(".popup").height()+"px"),s.find(".popup").height(0)),tregoIsMobile.any())s.on("touchstart mouseenter",function(){r.css({height:s.data("original_height"),overflow:"visible",visibility:"visible",opacity:"1"})}).on("mouseleave",function(){r.css({height:"0px",overflow:"hidden",visivility:"hidden",opacity:"0"})});else{var u={interval:50,over:function(){r.stop().css({overflow:"visible",visibility:"visible",height:s.data("original_height"),opacity:"1"})},timeout:150,out:function(){r.stop().css({overflow:"hidden",visivility:"hidden",height:"0px",opacity:"0"})}};s.hoverIntent(u)}}}),t(this).find("ul li.wide ul li a").on("click",function(){var e=t(this);setTimeout(function(){e.mouseleave()},500)})}),mega_menu_height_set=!0}function initMobileMenu(){var t=jQuery;t("#main-mobile-toggle").click(function(){t(this).parent().find(".accordion-menu").slideToggle(400),t("#main-mobile-toggle").toggleClass("opened")}),t(".accordion-menu ul li.has-sub > span.arrow").click(function(){t(this).parent().find("> ul.sub-menu").is(":visible")?t(this).parent().removeClass("open"):t(this).parent().addClass("open"),t(this).parent().find("> ul.sub-menu").slideToggle(200)})}function trego_resize(){initMegaMenu(),trego_timer&&clearTimeout(trego_timer)}function trego_load(){trego_resize(),initMobileMenu()}function isEmpty(t){return"undefined"==typeof t||null===t}function getDocWidth(){return self.innerWidth?self.innerWidth:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientWidth:document.body?document.body.clientWidth:0}function sliderAutoStart(t,e){t.stopAuto(),setTimeout(function(){t.startAuto()},e)}function resizeFunction(t,e,i,o){reloadBxSlider(t,e,i,o)}function getSlideWidth(t,e){return Math.round(t.width()/e)}function reloadBxSlider(t,e,i,o){var n,s=getDocWidth();if(isEmpty(o.responsive))n=i;else for(var r in o.responsive)if(o.responsive[r].min<=s&&o.responsive[r].max>=s){n=o.responsive[r].cnt;break}isEmpty(n)&&(n=i),o.slideWidth=getSlideWidth(e,n),o.maxSlides=n,o.minSlides=n,t.reloadSlider(o)}function arrowIconsAlign(t){var e,i=t.find(".bx-wrapper .description").height();e=t.hasClass("small-ctrls")?12:20,i=null==i?"-"+e+"px":"-"+(i/2+e)+"px",t.find(".bx-wrapper .bx-controls-direction a").css("margin-top",i)}(function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,s=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if("object"==typeof t){e={};for(i in o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}else e=o[t]||(o[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),s="object"==typeof i;for(o in n)n.hasOwnProperty(o)&&-1===e(n[o],i)&&n[o].push(s?i:{listener:i,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,i){var o,n,s=this.getListenersAsObject(t);for(n in s)s.hasOwnProperty(n)&&(o=e(s[n],i),-1!==o&&s[n].splice(o,1));return this},o.off=i("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,s=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)s.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?s.call(this,o,n):r.call(this,o,n));return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i)delete o[t];else if("object"===i)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(t,e){var i,o,n,s,r=this.getListenersAsObject(t);for(n in r)if(r.hasOwnProperty(n))for(o=r[n].length;o--;)i=r[n][o],i.once===!0&&this.removeListener(t,i.listener),s=i.listener.apply(this,e||[]),s===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=i("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=s,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}).call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent("on"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var s={bind:o,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",s):t.eventie=s}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,o){return e(t,i,o)}):"object"==typeof exports?module.exports=e(t,require("eventEmitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(this,function(t,e,i){function o(t,e){for(var i in e)t[i]=e[i];return t}function n(t){return"[object Array]"===h.call(t)}function s(t){var e=[];if(n(t))e=t;else if("number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,i){if(!(this instanceof r))return new r(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=s(t),this.options=o({},this.options),"function"==typeof e?i=e:o(this.options,e),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var n=this;setTimeout(function(){n.check()})}function a(t){this.img=t}function l(t){this.src=t,p[t]=this}var c=t.jQuery,d=t.console,u=void 0!==d,h=Object.prototype.toString;r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);var o=i.nodeType;if(o&&(1===o||9===o||11===o))for(var n=i.querySelectorAll("img"),s=0,r=n.length;r>s;s++){var a=n[s];this.addImage(a)}}},r.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},r.prototype.check=function(){function t(t,n){return e.options.debug&&u&&d.log("confirm",t,n),e.progress(t),i++,i===o&&e.complete(),!0}var e=this,i=0,o=this.images.length;if(this.hasAnyBroken=!1,!o)return void this.complete();for(var n=0;o>n;n++){var s=this.images[n];s.on("confirm",t),s.check()}},r.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},c&&(c.fn.imagesLoaded=function(t,e){var i=new r(this,t,e);return i.jqDeferred.promise(c(this))}),a.prototype=new e,a.prototype.check=function(){var t=p[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var p={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},r}),function(t,e,i){function o(t){return t}function n(t){return decodeURIComponent(t.replace(s," "))}var s=/\+/g;t.cookie=function(s,r,a){if(r!==i&&!/Object/.test(Object.prototype.toString.call(r))){if(a=t.extend({},t.cookie.defaults,a),null===r&&(a.expires=-1),"number"==typeof a.expires){var l=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+l)}return r=String(r),e.cookie=[encodeURIComponent(s),"=",a.raw?r:encodeURIComponent(r),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}a=r||t.cookie.defaults||{};for(var d,u=a.raw?o:n,h=e.cookie.split("; "),p=0;d=h[p]&&h[p].split("=");p++)if(u(d.shift())===s)return u(d.join("="));return null},t.cookie.defaults={},t.removeCookie=function(e,i){return null!==t.cookie(e,i)?(t.cookie(e,null,i),!0):!1}}(jQuery,document),function(t){t.fn.hoverIntent=function(e,i,o){var n={interval:100,sensitivity:7,timeout:0};n="object"==typeof e?t.extend(n,e):t.isFunction(i)?t.extend(n,{over:e,out:i,selector:o}):t.extend(n,{over:e,out:e,selector:i});var s,r,a,l,c=function(t){s=t.pageX,r=t.pageY},d=function(e,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(a-s)+Math.abs(l-r)<n.sensitivity?(t(i).off("mousemove.hoverIntent",c),i.hoverIntent_s=1,n.over.apply(i,[e])):(a=s,l=r,i.hoverIntent_t=setTimeout(function(){d(e,i)},n.interval),void 0)},u=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=0,n.out.apply(e,[t])},h=function(e){var i=jQuery.extend({},e),o=this;o.hoverIntent_t&&(o.hoverIntent_t=clearTimeout(o.hoverIntent_t)),"mouseenter"==e.type?(a=i.pageX,l=i.pageY,t(o).on("mousemove.hoverIntent",c),1!=o.hoverIntent_s&&(o.hoverIntent_t=setTimeout(function(){d(i,o)},n.interval))):(t(o).off("mousemove.hoverIntent",c),1==o.hoverIntent_s&&(o.hoverIntent_t=setTimeout(function(){u(i,o)},n.timeout)))};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},n.selector)}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i,o){var n=i.hash.slice(1),s=document.getElementById(n)||document.getElementsByName(n)[0];if(s){e&&e.preventDefault();var r=t(o.target);if(!(o.lock&&r.is(":animated")||o.onBefore&&o.onBefore(e,s,r)===!1)){if(o.stop&&r._scrollable().stop(!0),o.hash){var a=s.id===n?"id":"name",l=t("<a> </a>").attr(a,n).css({position:"absolute",top:t(window).scrollTop(),left:t(window).scrollLeft()});s[a]="",t("body").prepend(l),location.hash=i.hash,l.remove(),s[a]=n}r.scrollTo(s,o).trigger("notify.serialScroll",[s])}}}var i=location.href.replace(/#.*/,""),o=t.localScroll=function(e){t("body").localScroll(e)};return o.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window},t.fn.localScroll=function(n){function s(){return!(!this.href||!this.hash||this.href.replace(this.hash,"")!=i||n.filter&&!t(this).is(n.filter))}return n=t.extend({},o.defaults,n),n.hash&&location.hash&&(n.target&&window.scrollTo(0,0),e(0,location,n)),n.lazy?this.on(n.event,"a,area",function(t){s.call(this)&&e(t,this,n)}):this.find("a,area").filter(s).bind(n.event,function(t){e(t,this,n)}).end().end()},o.hash=function(){},o}),!function(t,e,i,o){function n(e,i){this.element=e,this.options=t.extend({},r,i),this._defaults=r,this._name=s,this.init()}var s="stellar",r={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(t){t.hide()},showElement:function(t){t.show()}},a={scroll:{getLeft:function(t){return t.scrollLeft()},setLeft:function(t,e){t.scrollLeft(e)},getTop:function(t){return t.scrollTop()},setTop:function(t,e){t.scrollTop(e)}},position:{getLeft:function(t){return-1*parseInt(t.css("left"),10)},getTop:function(t){return-1*parseInt(t.css("top"),10)}},margin:{getLeft:function(t){return-1*parseInt(t.css("margin-left"),10)},getTop:function(t){return-1*parseInt(t.css("margin-top"),10)}},transform:{getLeft:function(t){var e=getComputedStyle(t[0])[d];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(t){var e=getComputedStyle(t[0])[d];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[5],10):0}}},l={position:{setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)}},transform:{setPosition:function(t,e,i,o,n){t[0].style[d]="translate3d("+(e-i)+"px, "+(o-n)+"px, 0)"}}},c=function(){var e,i=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,o=t("script")[0].style,n="";for(e in o)if(i.test(e)){n=e.match(i)[0];break}return"WebkitOpacity"in o&&(n="Webkit"),"KhtmlOpacity"in o&&(n="Khtml"),function(t){return n+(n.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}(),d=c("transform"),u=t("<div />",{style:"background:#fff"}).css("background-position-x")!==o,h=u?function(t,e,i){t.css({"background-position-x":e,"background-position-y":i})}:function(t,e,i){t.css("background-position",e+" "+i)},p=u?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},f=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};n.prototype={init:function(){this.options.name=s+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===i.body&&(this.element=e),this.$scrollElement=t(this.element),this.$element=this.element===e?t("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==o?t(this.options.viewportElement):this.$scrollElement[0]===e||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var t=this,e=a[t.options.scrollProperty];this._getScrollLeft=function(){return e.getLeft(t.$scrollElement)},this._getScrollTop=function(){return e.getTop(t.$scrollElement)}},_defineSetters:function(){var e=this,i=a[e.options.scrollProperty],o=l[e.options.positionProperty],n=i.setLeft,s=i.setTop;this._setScrollLeft="function"==typeof n?function(t){n(e.$scrollElement,t)}:t.noop,this._setScrollTop="function"==typeof s?function(t){s(e.$scrollElement,t)}:t.noop,this._setPosition=o.setPosition||function(t,i,n,s,r){e.options.horizontalScrolling&&o.setLeft(t,i,n),e.options.verticalScrolling&&o.setTop(t,s,r)}},_handleWindowLoadAndResize:function(){var i=this,o=t(e);i.options.responsive&&o.bind("load."+this.name,function(){i.refresh()}),o.bind("resize."+this.name,function(){i._detectViewport(),i.options.responsive&&i.refresh()})},refresh:function(i){var o=this,n=o._getScrollLeft(),s=o._getScrollTop();i&&i.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),i&&i.firstLoad&&/WebKit/.test(navigator.userAgent)&&t(e).load(function(){var t=o._getScrollLeft(),e=o._getScrollTop();o._setScrollLeft(t+1),o._setScrollTop(e+1),o._setScrollLeft(t),o._setScrollTop(e)}),this._setScrollLeft(n),this._setScrollTop(s)},_detectViewport:function(){var t=this.$viewportElement.offset(),e=null!==t&&t!==o;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=e?t.top:0,this.viewportOffsetLeft=e?t.left:0},_findParticles:function(){var e=this;if(this._getScrollLeft(),this._getScrollTop(),this.particles!==o)for(var i=this.particles.length-1;i>=0;i--)this.particles[i].$element.data("stellar-elementIsActive",o);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(){var i,n,s,r,a,l,c,d,u,h=t(this),p=0,f=0,m=0,g=0;if(h.data("stellar-elementIsActive")){if(h.data("stellar-elementIsActive")!==this)return}else h.data("stellar-elementIsActive",this);e.options.showElement(h),h.data("stellar-startingLeft")?(h.css("left",h.data("stellar-startingLeft")),h.css("top",h.data("stellar-startingTop"))):(h.data("stellar-startingLeft",h.css("left")),h.data("stellar-startingTop",h.css("top"))),s=h.position().left,r=h.position().top,a="auto"===h.css("margin-left")?0:parseInt(h.css("margin-left"),10),l="auto"===h.css("margin-top")?0:parseInt(h.css("margin-top"),10),d=h.offset().left-a,u=h.offset().top-l,h.parents().each(function(){var e=t(this);return e.data("stellar-offset-parent")===!0?(p=m,f=g,c=e,!1):(m+=e.position().left,void(g+=e.position().top))}),i=h.data("stellar-horizontal-offset")!==o?h.data("stellar-horizontal-offset"):c!==o&&c.data("stellar-horizontal-offset")!==o?c.data("stellar-horizontal-offset"):e.horizontalOffset,n=h.data("stellar-vertical-offset")!==o?h.data("stellar-vertical-offset"):c!==o&&c.data("stellar-vertical-offset")!==o?c.data("stellar-vertical-offset"):e.verticalOffset,e.particles.push({$element:h,$offsetParent:c,isFixed:"fixed"===h.css("position"),horizontalOffset:i,verticalOffset:n,startingPositionLeft:s,startingPositionTop:r,startingOffsetLeft:d,startingOffsetTop:u,parentOffsetLeft:p,parentOffsetTop:f,stellarRatio:h.data("stellar-ratio")!==o?h.data("stellar-ratio"):1,width:h.outerWidth(!0),height:h.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var e,i=this,n=this._getScrollLeft(),s=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(e=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(e=e.add(this.$element)),e.each(function(){var e,r,a,l,c,d,u,f=t(this),m=p(f),g=0,v=0,y=0,b=0;if(f.data("stellar-backgroundIsActive")){if(f.data("stellar-backgroundIsActive")!==this)return}else f.data("stellar-backgroundIsActive",this);f.data("stellar-backgroundStartingLeft")?h(f,f.data("stellar-backgroundStartingLeft"),f.data("stellar-backgroundStartingTop")):(f.data("stellar-backgroundStartingLeft",m[0]),f.data("stellar-backgroundStartingTop",m[1])),a="auto"===f.css("margin-left")?0:parseInt(f.css("margin-left"),10),l="auto"===f.css("margin-top")?0:parseInt(f.css("margin-top"),10),c=f.offset().left-a-n,d=f.offset().top-l-s,f.parents().each(function(){var e=t(this);return e.data("stellar-offset-parent")===!0?(g=y,v=b,u=e,!1):(y+=e.position().left,void(b+=e.position().top))}),e=f.data("stellar-horizontal-offset")!==o?f.data("stellar-horizontal-offset"):u!==o&&u.data("stellar-horizontal-offset")!==o?u.data("stellar-horizontal-offset"):i.horizontalOffset,r=f.data("stellar-vertical-offset")!==o?f.data("stellar-vertical-offset"):u!==o&&u.data("stellar-vertical-offset")!==o?u.data("stellar-vertical-offset"):i.verticalOffset,i.backgrounds.push({$element:f,$offsetParent:u,isFixed:"fixed"===f.css("background-attachment"),horizontalOffset:e,verticalOffset:r,startingValueLeft:m[0],startingValueTop:m[1],startingBackgroundPositionLeft:isNaN(parseInt(m[0],10))?0:parseInt(m[0],10),startingBackgroundPositionTop:isNaN(parseInt(m[1],10))?0:parseInt(m[1],10),startingPositionLeft:f.position().left,startingPositionTop:f.position().top,startingOffsetLeft:c,startingOffsetTop:d,parentOffsetLeft:g,parentOffsetTop:v,stellarRatio:f.data("stellar-background-ratio")===o?1:f.data("stellar-background-ratio")})}))},_reset:function(){var t,e,i,o,n;for(n=this.particles.length-1;n>=0;n--)t=this.particles[n],e=t.$element.data("stellar-startingLeft"),i=t.$element.data("stellar-startingTop"),this._setPosition(t.$element,e,e,i,i),this.options.showElement(t.$element),t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(n=this.backgrounds.length-1;n>=0;n--)o=this.backgrounds[n],o.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),h(o.$element,o.startingValueLeft,o.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=t.noop,t(e).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var i=this,o=t(e);o.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),o.bind("resize.horizontal-"+this.name,function(){i.horizontalOffset=i.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),o.bind("resize.vertical-"+this.name,function(){i.verticalOffset=i.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var t,e,i,o,n,s,r,a,l,c,d=this._getScrollLeft(),u=this._getScrollTop(),p=!0,f=!0;if(this.currentScrollLeft!==d||this.currentScrollTop!==u||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=d,this.currentScrollTop=u,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,c=this.particles.length-1;c>=0;c--)t=this.particles[c],e=t.isFixed?1:0,this.options.horizontalScrolling?(s=(d+t.horizontalOffset+this.viewportOffsetLeft+t.startingPositionLeft-t.startingOffsetLeft+t.parentOffsetLeft)*-(t.stellarRatio+e-1)+t.startingPositionLeft,a=s-t.startingPositionLeft+t.startingOffsetLeft):(s=t.startingPositionLeft,a=t.startingOffsetLeft),this.options.verticalScrolling?(r=(u+t.verticalOffset+this.viewportOffsetTop+t.startingPositionTop-t.startingOffsetTop+t.parentOffsetTop)*-(t.stellarRatio+e-1)+t.startingPositionTop,l=r-t.startingPositionTop+t.startingOffsetTop):(r=t.startingPositionTop,l=t.startingOffsetTop),this.options.hideDistantElements&&(f=!this.options.horizontalScrolling||a+t.width>(t.isFixed?0:d)&&a<(t.isFixed?0:d)+this.viewportWidth+this.viewportOffsetLeft,p=!this.options.verticalScrolling||l+t.height>(t.isFixed?0:u)&&l<(t.isFixed?0:u)+this.viewportHeight+this.viewportOffsetTop),f&&p?(t.isHidden&&(this.options.showElement(t.$element),t.isHidden=!1),this._setPosition(t.$element,s,t.startingPositionLeft,r,t.startingPositionTop)):t.isHidden||(this.options.hideElement(t.$element),t.isHidden=!0);for(c=this.backgrounds.length-1;c>=0;c--)i=this.backgrounds[c],e=i.isFixed?0:1,o=this.options.horizontalScrolling?(d+i.horizontalOffset-this.viewportOffsetLeft-i.startingOffsetLeft+i.parentOffsetLeft-i.startingBackgroundPositionLeft)*(e-i.stellarRatio)+"px":i.startingValueLeft,n=this.options.verticalScrolling?(u+i.verticalOffset-this.viewportOffsetTop-i.startingOffsetTop+i.parentOffsetTop-i.startingBackgroundPositionTop)*(e-i.stellarRatio)+"px":i.startingValueTop,h(i.$element,o,n)}},_handleScrollEvent:function(){var t=this,e=!1,i=function(){t._repositionElements(),e=!1},o=function(){e||(f(i),e=!0)};this.$scrollElement.bind("scroll."+this.name,o),o()},_startAnimationLoop:function(){var t=this;this._animationLoop=function(){f(t._animationLoop),t._repositionElements()},this._animationLoop()}},t.fn[s]=function(e){var i=arguments;return e===o||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new n(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var o=t.data(this,"plugin_"+s);o instanceof n&&"function"==typeof o[e]&&o[e].apply(o,Array.prototype.slice.call(i,1)),"destroy"===e&&t.data(this,"plugin_"+s,null)}):void 0},t[s]=function(){var i=t(e);return i.stellar.apply(i,Array.prototype.slice.call(arguments,0))},t[s].scrollProperty=a,t[s].positionProperty=l,e.Stellar=n}(jQuery,this,document),function(){var t=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(i){return e(i,t)}):e(t.jQuery,t)}(this,function(i,o){var n,s,r,a,l,c,d,u,h,p,f,m,g,v,y,b;return n=i(o),u=t.call(o,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,d={},c="waypoints-context-id",f="resize.waypoints",m="scroll.waypoints",g=1,v="waypoints-waypoint-ids",y="waypoint",b="waypoints",s=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(c,this.id),d[this.id]=this,t.bind(m,function(){var t;return e.didScroll||u?void 0:(e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},o.setTimeout(t,i[b].settings.scrollThrottle))}),t.bind(f,function(){var t;return e.didResize?void 0:(e.didResize=!0,t=function(){return i[b]("refresh"),e.didResize=!1},o.setTimeout(t,i[b].settings.resizeThrottle))})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!u||t.vertical.oldScroll&&t.vertical.newScroll||i[b]("refresh"),i.each(t,function(t,o){var n,s,r;return r=[],s=o.newScroll>o.oldScroll,n=s?o.forward:o.backward,i.each(e.waypoints[t],function(t,e){var i,n;return o.oldScroll<(i=e.offset)&&i<=o.newScroll?r.push(e):o.newScroll<(n=e.offset)&&n<=o.oldScroll?r.push(e):void 0}),r.sort(function(t,e){return t.offset-e.offset}),s||r.reverse(),i.each(r,function(t,e){return e.options.continuous||t===r.length-1?e.trigger([n]):void 0})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,o,n=this;return o=i.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:o?0:e.left,contextScroll:o?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:o?0:e.top,contextScroll:o?0:this.oldScroll.y,contextDimension:o?i[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},i.each(t,function(t,e){return i.each(n.waypoints[t],function(t,o){var n,s,r,a,l;return n=o.options.offset,r=o.offset,s=i.isWindow(o.element)?0:o.$element.offset()[e.offsetProp],i.isFunction(n)?n=n.apply(o.element):"string"==typeof n&&(n=parseFloat(n),o.options.offset.indexOf("%")>-1&&(n=Math.ceil(e.contextDimension*n/100))),o.offset=s-e.contextOffset+e.contextScroll-n,o.options.onlyOnScroll&&null!=r||!o.enabled?void 0:null!==r&&r<(a=e.oldScroll)&&a<=o.offset?o.trigger([e.backward]):null!==r&&r>(l=e.oldScroll)&&l>=o.offset?o.trigger([e.forward]):null===r&&e.oldScroll>=o.offset?o.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){return i.isEmptyObject(this.waypoints.horizontal)&&i.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([f,m].join(" ")),delete d[this.id]):void 0},t}(),r=function(){function t(t,e,o){var n,s;o=i.extend({},i.fn[y].defaults,o),"bottom-in-view"===o.offset&&(o.offset=function(){var t;return t=i[b]("viewportHeight"),i.isWindow(e.element)||(t=e.$element.height()),t-i(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=o.horizontal?"horizontal":"vertical",this.callback=o.handler,this.context=e,this.enabled=o.enabled,this.id="waypoints"+g++,this.offset=null,this.options=o,e.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,n=null!=(s=t.data(v))?s:[],n.push(this.id),t.data(v,n)}return t.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,o;return(o=i(t).data(v))?(e=i.extend({},a.horizontal,a.vertical),i.map(o,function(t){return e[t]})):[]},t}(),p={init:function(t,e){var o;return null==e&&(e={}),null==(o=e.handler)&&(e.handler=t),this.each(function(){var t,o,n,a;return t=i(this),n=null!=(a=e.context)?a:i.fn[y].defaults.context,i.isWindow(n)||(n=t.closest(n)),n=i(n),o=d[n.data(c)],o||(o=new s(n)),new r(t,o,e)}),i[b]("refresh"),this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(t,e){return p._traverse.call(this,t,e,function(t,e,i){return e>0?t.push(i[e-1]):void 0})},next:function(t,e){return p._traverse.call(this,t,e,function(t,e,i){return e<i.length-1?t.push(i[e+1]):void 0})},_traverse:function(t,e,n){var s,r;return null==t&&(t="vertical"),null==e&&(e=o),r=h.aggregate(e),s=[],this.each(function(){var e;return e=i.inArray(this,r[t]),n(s,e,r[t])}),this.pushStack(s)},_invoke:function(t,e){return t.each(function(){var t;return t=r.getWaypointsByElement(this),i.each(t,function(t,i){return i[e](),!0})}),this}},i.fn[y]=function(){var t,o;return o=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],p[o]?p[o].apply(this,t):i.isFunction(o)?p.init.apply(this,arguments):i.isPlainObject(o)?p.init.apply(this,[null,o]):i.error(o?"The "+o+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},i.fn[y].defaults={context:o,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return i.each(d,function(t,e){return e.refresh()
})},viewportHeight:function(){var t;return null!=(t=o.innerHeight)?t:n.height()},aggregate:function(t){var e,o,n;return e=a,t&&(e=null!=(n=d[i(t).data(c)])?n.waypoints:void 0),e?(o={horizontal:[],vertical:[]},i.each(o,function(t,n){return i.each(e[t],function(t,e){return n.push(e)}),n.sort(function(t,e){return t.offset-e.offset}),o[t]=i.map(n,function(t){return t.element}),o[t]=i.unique(o[t])}),o):[]},above:function(t){return null==t&&(t=o),h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=o),h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=o),h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=o),h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return p[t]=e},_invoke:function(t){var e;return e=i.extend({},a.vertical,a.horizontal),i.each(e,function(e,i){return i[t](),!0})},_filter:function(t,e,o){var n,s;return(n=d[i(t).data(c)])?(s=[],i.each(n.waypoints[e],function(t,e){return o(n,e)?s.push(e):void 0}),s.sort(function(t,e){return t.offset-e.offset}),i.map(s,function(t){return t.element})):[]}},i[b]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],h[i]?h[i].apply(null,t):h.aggregate.call(null,i)},i[b].settings={resizeThrottle:100,scrollThrottle:30},n.load(function(){return i[b]("refresh")})})}.call(this),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,o,n=this.element,s=n.closest("ul:not(.dropdown-menu)"),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(e=s.find(".active a").last()[0],o=t.Event("show",{relatedTarget:e}),n.trigger(o),o.isDefaultPrevented()||(i=t(r),this.activate(n.parent("li"),s),this.activate(i,i.parent(),function(){n.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,i,o){function n(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var s=i.find("> .active"),r=o&&t.support.transition&&s.hasClass("fade");r?s.one(t.support.transition.end,n):n(),s.removeClass("in")}},t.fn.tab=function(i){return this.each(function(){var o=t(this),n=o.data("tab");n||o.data("tab",n=new e(this)),"string"==typeof i&&n[i]()})},t.fn.tab.Constructor=e,t(function(){t("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})})}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,o,n;if(!this.transitioning){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),o=this.$parent&&this.$parent.find("> .accordion-group > .in"),o&&o.length){if(n=o.data("collapse"),n&&n.transitioning)return;o.collapse("hide"),n||o.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;this.transitioning||(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,o){var n=this,s=function(){"show"==i.type&&n.reset(),n.transitioning=0,n.$element.trigger(o)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,s):s())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},t.fn.collapse=function(i){return this.each(function(){var o=t(this),n=o.data("collapse"),s="object"==typeof i&&i;n||o.data("collapse",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t(function(){t("body").on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,o=t(this),n=o.attr("data-target")||e.preventDefault()||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(n).data("collapse")?"toggle":o.data();o[t(n).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(n).collapse(s)})})}(window.jQuery),jQuery(document).ready(function(){function t(){jQuery("ul.products li.product").each(function(){var t,e=jQuery(this).find("div.product-img > a"),i=jQuery(this).find("h3.p-name"),o=jQuery(this).find("div.star-rating"),n=jQuery(this).find("span.price"),s=jQuery(this).find("div.add-cart-bar"),r=jQuery(this).find("div.list-view"),a=jQuery(this).find("div.short-desc");e.after(o),r.append(i),t=i,0!=n.length&&(t.after(n),t=n),0!=a.length&&(t.after(a),t=a),t.after(s)})}function e(){jQuery("ul.products li.product").each(function(){var t,e=jQuery(this).find("div.product-img > a"),i=jQuery(this).find("h3.p-name"),o=jQuery(this).find("div.star-rating"),n=jQuery(this).find("span.price"),s=jQuery(this).find("div.add-cart-bar"),r=jQuery(this).find("div.list-view"),a=jQuery(this).find("div.short-desc");e.after(s),t=r,0!=o.length&&(t.after(o),t=o),0!=n.length&&(t.after(n),t=n),0!=i.length&&(t.after(i),t=i),t.after(a)})}jQuery("#grid").click(function(){return jQuery(this).addClass("active"),jQuery("#list").removeClass("active"),jQuery.cookie("gridcookie","grid",{path:"/"}),jQuery("ul.products").fadeOut(300,function(){e(),jQuery(this).addClass("grid").removeClass("list").fadeIn(300)}),!1}),jQuery("#list").click(function(){return jQuery(this).addClass("active"),jQuery("#grid").removeClass("active"),jQuery.cookie("gridcookie","list",{path:"/"}),jQuery("ul.products").fadeOut(300,function(){t(),jQuery(this).removeClass("grid").addClass("list").fadeIn(300)}),!1}),jQuery.cookie("gridcookie")?jQuery("ul.products, #gridlist-toggle").addClass(jQuery.cookie("gridcookie")):e(),"grid"==jQuery.cookie("gridcookie")&&(jQuery(".gridlist-toggle #grid").addClass("active"),jQuery(".gridlist-toggle #list").removeClass("active"),e()),"list"==jQuery.cookie("gridcookie")&&(jQuery(".gridlist-toggle #list").addClass("active"),jQuery(".gridlist-toggle #grid").removeClass("active"),t()),jQuery("#gridlist-toggle a").click(function(t){t.preventDefault()})});var tregoIsMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return tregoIsMobile.Android()||tregoIsMobile.BlackBerry()||tregoIsMobile.iOS()||tregoIsMobile.Opera()||tregoIsMobile.Windows()}},mega_menu_height_set=!1,trego_timer;jQuery(window).load(trego_load),jQuery(window).resize(function(){clearTimeout(trego_timer),trego_timer=setTimeout(trego_resize,400)}),function($){function format(t){for(var e=1;e<arguments.length;e++)t=t.replace("%"+(e-1),arguments[e]);return t}function CloudZoom(t,e){var i,o,n,s,r,a,l,c,d=$("img",t),u=null,h=null,p=null,f=null,m=null,g=null,v=0,y=0,b=0,w=0,_=0,x=0,S=this;setTimeout(function(){if(null===h){var e=t.width();t.parent().append(format('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...</div>',e/3,e/2-e/6)),$("cloud-zoom-loading",t.parent()).css("opacity",.5)}},200);var T=function(){null!==g&&(g.remove(),g=null)};this.removeBits=function(){p&&(p.remove(),p=null),f&&(f.remove(),f=null),m&&(m.remove(),m=null),T(),$(".cloud-zoom-loading",t.parent()).remove()},this.destroy=function(){t.data("zoom",null),h&&(h.unbind(),h.remove(),h=null),u&&(u.remove(),u=null),this.removeBits()},this.fadedOut=function(){u&&(u.remove(),u=null),this.removeBits()},this.controlLoop=function(){if(p){var t=a-d.offset().left-.5*s>>0,i=l-d.offset().top-.5*r>>0;0>t?t=0:t>d.outerWidth()-s&&(t=d.outerWidth()-s),0>i?i=0:i>d.outerHeight()-r&&(i=d.outerHeight()-r),p.css({left:t,top:i}),p.css("background-position",-t+"px "+-i+"px"),y=t/d.outerWidth()*n.width>>0,b=i/d.outerHeight()*n.height>>0,_+=(y-_)/e.smoothMove,w+=(b-w)/e.smoothMove,u.css("background-position",-(_>>0)+"px "+(-(w>>0)+"px"))}v=setTimeout(function(){S.controlLoop()},30)},this.init2=function(t,e){x++,1===e&&(n=t),2===x&&this.init()},this.init=function(){$(".cloud-zoom-loading",t.parent()).remove();var i=$("<div class='mousetrap' style='background-image:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)'></div>");h=t.parent().append(i).find(":last"),h=$(".mousetrap",t.parent()),h.css({width:d.outerWidth(),height:d.outerHeight(),top:0,left:0,position:"absolute",zIndex:100}),h.bind("mousemove",this,function(t){a=t.pageX,l=t.pageY}),h.bind("mouseleave",this,function(){return clearTimeout(v),p&&p.fadeOut(299),f&&f.fadeOut(299),m&&m.fadeOut(299),u.fadeOut(300,function(){S.fadedOut()}),!1}),h.bind("mouseenter",this,function(i){a=i.pageX,l=i.pageY,c=i.data,u&&(u.stop(!0,!1),u.remove());var o=e.adjustX,v=e.adjustY,y=d.outerWidth(),b=d.outerHeight(),w=e.zoomWidth,_=e.zoomHeight;"auto"==e.zoomWidth&&(w=y),"auto"==e.zoomHeight&&(_=b);var x=t.parent();switch(e.position){case"top":v-=_;break;case"right":o+=y;break;case"bottom":v+=b;break;case"left":o-=w;break;case"inside":w=y,_=b;break;default:x=$("#"+e.position),x.length?(w=x.innerWidth(),_=x.innerHeight()):(x=t,o+=y,v+=b)}u=x.append(format('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:99;"></div>',o,v,w,_,n.src)).find(":last"),u=$(".cloud-zoom-big",x),d.attr("title")&&e.showTitle&&(u.append(format('<div class="cloud-zoom-title">%0</div>',d.attr("title"))),$(".cloud-zoom-title",u).css("opacity",e.titleOpacity)),$.browser.msie&&$.browser.version<7&&(g=$('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:o,top:v,zIndex:99,width:w,height:_}).insertBefore(u)),u.fadeIn(500),p&&(p.remove(),p=null),s=d.outerWidth()/n.width*u.width(),r=d.outerHeight()/n.height*u.height(),p=t.append(format("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",s,r)).find(":last"),p=$(".cloud-zoom-lens",t),h.css("cursor",p.css("cursor"));var S=!1;e.tint&&(p.css("background",'url("'+d.attr("src")+'")'),f=t.append(format('<div class="cloud-zoom-tint" style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',d.outerWidth(),d.outerHeight(),e.tint)).find(":last"),f=$(".cloud-zoom-tint",t),f.css("opacity",e.tintOpacity),S=!0,f.fadeIn(500)),e.softFocus&&(p.css("background",'url("'+d.attr("src")+'")'),t.append(format('<div class="cloud-zoom-soft" style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',d.outerWidth()-2,d.outerHeight()-2,e.tint)),m=$(".cloud-zoom-soft",t),m.css("background",'url("'+d.attr("src")+'")'),m.css("opacity",.5),S=!0,m.fadeIn(500)),S||p.css("opacity",e.lensOpacity),"inside"!==e.position&&p.fadeIn(500),c.controlLoop()})},i=new Image,$(i).load(function(){S.init2(this,0)}),i.src=d.attr("src"),o=new Image,$(o).load(function(){S.init2(this,1)}),o.src=t.attr("href")}var scripts=document.getElementsByTagName("script"),last=scripts[scripts.length-1].src.lastIndexOf("/"),scriptPath=scripts[scripts.length-1].src.slice(0,last);$(document).ready(function(){$(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()}),$.fn.CloudZoom=function(options){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}return this.each(function(){var relOpts,opts;eval("var	a = {"+$(this).attr("rel")+"}"),relOpts=a,$(this).is(".cloud-zoom")?($(this).css({position:"relative",display:"block"}),$("img",$(this)).css({display:"block"}),"wrap"!=$(this).parent().attr("id")&&$(this).wrap('<div id="wrap" style="top:0px;z-index:100;position:relative;"></div>'),opts=$.extend({},$.fn.CloudZoom.defaults,options),opts=$.extend({},opts,relOpts),$(this).data("zoom",new CloudZoom($(this),opts))):$(this).is(".cloud-zoom-gallery")&&(opts=$.extend({},relOpts,options),$(this).data("relOpts",opts),$(this).bind("click",$(this),function(t){var e=t.data.data("relOpts");return $("#"+e.useZoom).data("zoom").destroy(),$("#"+e.useZoom).attr("href",t.data.attr("href")),$("#"+e.useZoom+" img").attr("src",t.data.data("relOpts").smallImage),$("#"+t.data.data("relOpts").useZoom).CloudZoom(),!1}))}),this},$.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:!1,tintOpacity:.5,lensOpacity:.5,softFocus:!1,smoothMove:3,showTitle:!0,titleOpacity:.5,adjustX:0,adjustY:0}}(jQuery),window.Modernizr=function(t,e,i){function o(t){y.cssText=t}function n(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var o in t){var n=t[o];if(!s(n,"-")&&y[n]!==i)return"pfx"==e?n:!0}return!1}function a(t,e,o){for(var s in t){var r=e[t[s]];if(r!==i)return o===!1?t[s]:n(r,"function")?r.bind(o||e):r}return!1}function l(t,e,i){var o=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+_.join(o+" ")+o).split(" ");return n(e,"string")||n(e,"undefined")?r(s,e):(s=(t+" "+x.join(o+" ")+o).split(" "),a(s,e,i))}var c,d,u,h="2.6.2",p={},f=!0,m=e.documentElement,g="modernizr",v=e.createElement(g),y=v.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",_=w.split(" "),x=w.toLowerCase().split(" "),S={},T=[],k=T.slice,z=function(t,i,o,n){var s,r,a,l,c=e.createElement("div"),d=e.body,u=d||e.createElement("body");if(parseInt(o,10))for(;o--;)a=e.createElement("div"),a.id=n?n[o]:g+(o+1),c.appendChild(a);return s=["&#173;",'<style id="s',g,'">',t,"</style>"].join(""),c.id=g,(d?c:u).innerHTML+=s,u.appendChild(c),d||(u.style.background="",u.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(u)),r=i(c,t),d?c.parentNode.removeChild(c):(u.parentNode.removeChild(u),m.style.overflow=l),!!r},E={}.hasOwnProperty;u=n(E,"undefined")||n(E.call,"undefined")?function(t,e){return e in t&&n(t.constructor.prototype[e],"undefined")}:function(t,e){return E.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=k.call(arguments,1),o=function(){if(this instanceof o){var n=function(){};n.prototype=e.prototype;var s=new n,r=e.apply(s,i.concat(k.call(arguments)));return Object(r)===r?r:s}return e.apply(t,i.concat(k.call(arguments)))};return o}),S.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:z(["@media (",b.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i},S.csstransitions=function(){return l("transition")};for(var C in S)u(S,C)&&(d=C.toLowerCase(),p[d]=S[C](),T.push((p[d]?"":"no-")+d));return p.addTest=function(t,e){if("object"==typeof t)for(var o in t)u(t,o)&&p.addTest(o,t[o]);else{if(t=t.toLowerCase(),p[t]!==i)return p;e="function"==typeof e?e():e,"undefined"!=typeof f&&f&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},o(""),v=c=null,function(t,e){function i(t,e){var i=t.createElement("p"),o=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",o.insertBefore(i.lastChild,o.firstChild)}function o(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function n(t){var e=g[t[f]];return e||(e={},m++,t[f]=m,g[m]=e),e}function s(t,i,o){if(i||(i=e),d)return i.createElement(t);o||(o=n(i));var s;return s=o.cache[t]?o.cache[t].cloneNode():p.test(t)?(o.cache[t]=o.createElem(t)).cloneNode():o.createElem(t),s.canHaveChildren&&!h.test(t)?o.frag.appendChild(s):s}function r(t,i){if(t||(t=e),d)return t.createDocumentFragment();i=i||n(t);for(var s=i.frag.cloneNode(),r=0,a=o(),l=a.length;l>r;r++)s.createElement(a[r]);return s}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return v.shivMethods?s(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+o().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var o=n(t);return v.shivCSS&&!c&&!o.hasCSS&&(o.hasCSS=!!i(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),d||a(t,o),t}var c,d,u=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,d=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(i){c=!0,d=!0}}();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:d,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:s,createDocumentFragment:r};t.html5=v,l(e)}(this,e),p._version=h,p._prefixes=b,p._domPrefixes=x,p._cssomPrefixes=_,p.testProp=function(t){return r([t])},p.testAllProps=l,p.testStyles=z,p.prefixed=function(t,e,i){return e?l(t,e,i):l(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+T.join(" "):""),p}(this,this.document),function(t,e,i){function o(t){return"[object Function]"==g.call(t)}function n(t){return"string"==typeof t}function s(){}function r(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();y=1,t?t.t?f(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function l(t,i,o,n,s,l,c){function d(e){if(!p&&r(u.readyState)&&(b.r=p=1,!y&&a(),u.onload=u.onreadystatechange=null,e)){"img"!=t&&f(function(){_.removeChild(u)},50);for(var o in z[i])z[i].hasOwnProperty(o)&&z[i][o].onload()}}var c=c||h.errorTimeout,u=e.createElement(t),p=0,g=0,b={t:o,s:i,e:s,a:l,x:c};1===z[i]&&(g=1,z[i]=[]),"object"==t?u.data=i:(u.src=i,u.type=t),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){d.call(this,g)},v.splice(n,0,b),"img"!=t&&(g||2===z[i]?(_.insertBefore(u,w?null:m),f(d,c)):z[i].push(u))}function c(t,e,i,o,s){return y=0,e=e||"j",n(t)?l("c"==e?S:x,t,e,this.i++,i,o,s):(v.splice(this.i++,0,t),1==v.length&&a()),this}function d(){var t=h;return t.loader={load:c,i:0},t}var u,h,p=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in p.style,w=b&&!!e.createRange().compareNode,_=w?p:m.parentNode,p=t.opera&&"[object Opera]"==g.call(t.opera),p=!!e.attachEvent&&!p,x=b?"object":p?"script":"img",S=p?"script":x,T=Array.isArray||function(t){return"[object Array]"==g.call(t)},k=[],z={},E={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};h=function(t){function e(t){var e,i,o,t=t.split("!"),n=k.length,s=t.pop(),r=t.length,s={url:s,origUrl:s,prefixes:t};for(i=0;r>i;i++)o=t[i].split("="),(e=E[o.shift()])&&(s=e(s,o));for(i=0;n>i;i++)s=k[i](s);return s}function r(t,n,s,r,a){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(n&&(n=o(n)?n:n[t]||n[r]||n[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,n,s,r,a):(z[l.url]?l.noexec=!0:z[l.url]=1,s.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(o(n)||o(c))&&s.load(function(){d(),n&&n(l.origUrl,a,r),c&&c(l.origUrl,a,r),z[l.url]=2})))}function a(t,e){function i(t,i){if(t){if(n(t))i||(u=function(){var t=[].slice.call(arguments);h.apply(this,t),p()}),r(t,u,e,0,c);else if(Object(t)===t)for(l in a=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(l)&&(!i&&!--a&&(o(u)?u=function(){var t=[].slice.call(arguments);h.apply(this,t),p()}:u[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(h[l])),r(t[l],u,e,l,c))}else!i&&p()}var a,l,c=!!t.test,d=t.load||t.both,u=t.callback||s,h=u,p=t.complete||s;i(c?t.yep:t.nope,!!d),d&&i(d)}var l,c,u=this.yepnope.loader;if(n(t))r(t,0,u,0);else if(T(t))for(l=0;l<t.length;l++)c=t[l],n(c)?r(c,0,u,0):T(c)?h(c):Object(c)===c&&a(c,u);else Object(t)===t&&a(t,u)},h.addPrefix=function(t,e){E[t]=e},h.addFilter=function(t){k.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",u=function(){e.removeEventListener("DOMContentLoaded",u,0),e.readyState="complete"},0)),t.yepnope=d(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,i,o,n,l,c){var d,u,p=e.createElement("script"),n=n||h.errorTimeout;p.src=t;for(u in o)p.setAttribute(u,o[u]);i=c?a:i||s,p.onreadystatechange=p.onload=function(){!d&&r(p.readyState)&&(d=1,i(),p.onload=p.onreadystatechange=null)},f(function(){d||(d=1,i(1))},n),l?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,i,o,n,r,l){var c,n=e.createElement("link"),i=l?a:i||s;n.href=t,n.rel="stylesheet",n.type="text/css";for(c in o)n.setAttribute(c,o[c]);r||(m.parentNode.insertBefore(n,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e){return t.isFunction(e)||"object"==typeof e?e:{top:e,left:e}}var i=t.scrollTo=function(e,i,o){return t(window).scrollTo(e,i,o)};return i.defaults={axis:"xy",duration:parseFloat(t.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){var e=this,i=!e.nodeName||-1!=t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return e;var o=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||"BackCompat"==o.compatMode?o.body:o.documentElement})},t.fn.scrollTo=function(o,n,s){return"object"==typeof n&&(s=n,n=0),"function"==typeof s&&(s={onAfter:s}),"max"==o&&(o=9e9),s=t.extend({},i.defaults,s),n=n||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(n/=2),s.offset=e(s.offset),s.over=e(s.over),this._scrollable().each(function(){function r(t){c.animate(u,n,s.easing,t&&function(){t.call(this,d,s)})}if(null!=o){var a,l=this,c=t(l),d=o,u={},h=c.is("html,body");switch(typeof d){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(d)){d=e(d);break}if(d=t(d,this),!d.length)return;case"object":(d.is||d.style)&&(a=(d=t(d)).offset())}var p=t.isFunction(s.offset)&&s.offset(l,d)||s.offset;t.each(s.axis.split(""),function(t,e){var o="x"==e?"Left":"Top",n=o.toLowerCase(),f="scroll"+o,m=l[f],g=i.max(l,e);if(a)u[f]=a[n]+(h?0:m-c.offset()[n]),s.margin&&(u[f]-=parseInt(d.css("margin"+o))||0,u[f]-=parseInt(d.css("border"+o+"Width"))||0),u[f]+=p[n]||0,s.over[n]&&(u[f]+=d["x"==e?"width":"height"]()*s.over[n]);else{var v=d[n];u[f]=v.slice&&"%"==v.slice(-1)?parseFloat(v)/100*g:v}s.limit&&/^\d+$/.test(u[f])&&(u[f]=u[f]<=0?0:Math.min(u[f],g)),!t&&s.queue&&(m!=u[f]&&r(s.onAfterFirst),delete u[f])}),r(s.onAfter)}}).end()},i.max=function(e,i){var o="x"==i?"Width":"Height",n="scroll"+o;if(!t(e).is("html,body"))return e[n]-t(e)[o.toLowerCase()]();var s="client"+o,r=e.ownerDocument.documentElement,a=e.ownerDocument.body;return Math.max(r[n],a[n])-Math.min(r[s],a[s])},i});var twitterFetcher=function(){function t(t){return t.replace(/<b[^>]*>(.*?)<\/b>/gi,function(t,e){return e}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function e(t,e){for(var i=[],o=RegExp("(^| )"+e+"( |$)"),n=t.getElementsByTagName("*"),s=0,r=n.length;r>s;s++)o.test(n[s].className)&&i.push(n[s]);return i}var i="",o=20,n=!0,s=[],r=!1,a=!0,l=!0,c=null,d=!0,u=!0,h=null,p=!0;return{fetch:function(t,e,d,f,m,g,v,y,b,w){void 0===d&&(d=20),void 0===f&&(n=!0),void 0===m&&(m=!0),void 0===g&&(g=!0),void 0===v&&(v="default"),void 0===y&&(y=!0),void 0===b&&(b=null),void 0===w&&(w=!0),r?s.push({id:t,domId:e,maxTweets:d,enableLinks:f,showUser:m,showTime:g,dateFunction:v,showRt:y,customCallback:b,showInteraction:w}):(r=!0,i=e,o=d,n=f,l=m,a=g,u=y,c=v,h=b,p=w,e=document.createElement("script"),e.type="text/javascript",e.src="//cdn.syndication.twimg.com/widgets/timelines/"+t+"?&lang=fr&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),document.getElementsByTagName("head")[0].appendChild(e))},callback:function(f){var m=document.createElement("div");m.innerHTML=f.body,"undefined"==typeof m.getElementsByClassName&&(d=!1),f=[];var g=[],v=[],y=[],b=[],w=0;if(d)for(m=m.getElementsByClassName("tweet");w<m.length;)y.push(0<m[w].getElementsByClassName("retweet-credit").length?!0:!1),(!y[w]||y[w]&&u)&&(f.push(m[w].getElementsByClassName("e-entry-title")[0]),b.push(m[w].getAttribute("data-tweet-id")),g.push(m[w].getElementsByClassName("p-author")[0]),v.push(m[w].getElementsByClassName("dt-updated")[0])),w++;else for(m=e(m,"tweet");w<m.length;)f.push(e(m[w],"e-entry-title")[0]),b.push(m[w].getAttribute("data-tweet-id")),g.push(e(m[w],"p-author")[0]),v.push(e(m[w],"dt-updated")[0]),y.push(0<e(m[w],"retweet-credit").length?!0:!1),w++;for(f.length>o&&(f.splice(o,f.length-o),g.splice(o,g.length-o),v.splice(o,v.length-o),y.splice(o,y.length-o)),m=[],w=f.length,y=0;w>y;){if("string"!=typeof c){var _=new Date(v[y].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),_=c(_);if(v[y].setAttribute("aria-label",_),f[y].innerText)if(d)v[y].innerText=_;else{var x=document.createElement("p"),S=document.createTextNode(_);x.appendChild(S),x.setAttribute("aria-label",_),v[y]=x}else v[y].textContent=_}_="",n?(l&&(_+='<div class="user">'+t(g[y].innerHTML)+"</div>"),_+='<p class="tweet">'+t(f[y].innerHTML)+"</p>",a&&(_+='<p class="timePosted">'+v[y].getAttribute("aria-label")+"</p>")):f[y].innerText?(l&&(_+='<p class="user">'+g[y].innerText+"</p>"),_+='<p class="tweet">'+f[y].innerText+"</p>",a&&(_+='<p class="timePosted">'+v[y].innerText+"</p>")):(l&&(_+='<p class="user">'+g[y].textContent+"</p>"),_+='<p class="tweet">'+f[y].textContent+"</p>",a&&(_+='<p class="timePosted">'+v[y].textContent+"</p>")),p&&(_+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+b[y]+'" class="twitter_reply_icon">Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+b[y]+'" class="twitter_retweet_icon">Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+b[y]+'" class="twitter_fav_icon">Favorite</a></p>'),m.push(_),y++}if(null==h){for(f=m.length,g=0,v=document.getElementById(i),b="<ul>";f>g;)b+="<li>"+m[g]+"</li>",g++;v.innerHTML=b+"</ul>"}else h(m);r=!1,0<s.length&&(twitterFetcher.fetch(s[0].id,s[0].domId,s[0].maxTweets,s[0].enableLinks,s[0].showUser,s[0].showTime,s[0].dateFunction,s[0].showRt,s[0].customCallback,s[0].showInteraction),s.splice(0,1))}}}();!function(t,e){function i(){var t=m.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=f[t[h]];return e||(e={},p++,t[h]=p,f[p]=e),e}function n(t,i,n){return i||(i=e),l?i.createElement(t):(n||(n=o(i)),i=n.cache[t]?n.cache[t].cloneNode():u.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),i.canHaveChildren&&!d.test(t)?n.frag.appendChild(i):i)}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return m.shivMethods?n(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(m,e.frag)}function r(t){t||(t=e);var i=o(t);if(m.shivCSS&&!a&&!i.hasCSS){var n,r=t;n=r.createElement("p"),r=r.getElementsByTagName("head")[0]||r.documentElement,n.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",n=r.insertBefore(n.lastChild,r.firstChild),i.hasCSS=!!n}return l||s(t,i),t}var a,l,c=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,u=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,h="_html5shiv",p=0,f={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",a="hidden"in t;var i;if(!(i=1==t.childNodes.length)){e.createElement("a");var o=e.createDocumentFragment();i="undefined"==typeof o.cloneNode||"undefined"==typeof o.createDocumentFragment||"undefined"==typeof o.createElement}l=i}catch(n){l=a=!0}}();var m={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==c.shivCSS,supportsUnknownElements:l,shivMethods:!1!==c.shivMethods,type:"default",shivDocument:r,createElement:n,createDocumentFragment:function(t,n){if(t||(t=e),l)return t.createDocumentFragment();for(var n=n||o(t),s=n.frag.cloneNode(),r=0,a=i(),c=a.length;c>r;r++)s.createElement(a[r]);return s}};t.html5=m,r(e)}(this,document),!function(t){var e={},o={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(n){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var s={},r=this;e.el=this;var a=t(window).width(),l=t(window).height(),c=function(){s.settings=t.extend({},o,n),s.settings.slideWidth=parseInt(s.settings.slideWidth),s.children=r.children(s.settings.slideSelector),s.children.length<s.settings.minSlides&&(s.settings.minSlides=s.children.length),s.children.length<s.settings.maxSlides&&(s.settings.maxSlides=s.children.length),s.settings.randomStart&&(s.settings.startSlide=Math.floor(Math.random()*s.children.length)),s.active={index:s.settings.startSlide},s.carousel=s.settings.minSlides>1||s.settings.maxSlides>1,s.carousel&&(s.settings.preloadImages="all"),s.minThreshold=s.settings.minSlides*s.settings.slideWidth+(s.settings.minSlides-1)*s.settings.slideMargin,s.maxThreshold=s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin,s.working=!1,s.controls={},s.interval=null,s.animProp="vertical"==s.settings.mode?"top":"left",s.usingCSS=s.settings.useCSS&&"fade"!=s.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];
for(var i in e)if(void 0!==t.style[e[i]])return s.cssPrefix=e[i].replace("Perspective","").toLowerCase(),s.animProp="-"+s.cssPrefix+"-transform",!0;return!1}(),"vertical"==s.settings.mode&&(s.settings.maxSlides=s.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(s.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),d()},d=function(){r.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),s.viewport=r.parent(),s.loader=t('<div class="bx-loading" />'),s.viewport.prepend(s.loader),r.css({width:"horizontal"==s.settings.mode?100*s.children.length+215+"%":"auto",position:"relative"}),s.usingCSS&&s.settings.easing?r.css("-"+s.cssPrefix+"-transition-timing-function",s.settings.easing):s.settings.easing||(s.settings.easing="swing"),g(),s.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),s.viewport.parent().css({maxWidth:f()}),s.settings.pager||s.viewport.parent().css({margin:"0 auto 0px"}),s.children.css({"float":"horizontal"==s.settings.mode?"left":"none",listStyle:"none",position:"relative"}),s.children.css("width",m()),"horizontal"==s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginRight",s.settings.slideMargin),"vertical"==s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginBottom",s.settings.slideMargin),"fade"==s.settings.mode&&(s.children.css({position:"absolute",zIndex:0,display:"none"}),s.children.eq(s.settings.startSlide).css({zIndex:s.settings.slideZIndex,display:"block"})),s.controls.el=t('<div class="bx-controls" />'),s.settings.captions&&k(),s.active.last=s.settings.startSlide==v()-1,s.settings.video&&r.fitVids();var e=s.children.eq(s.settings.startSlide);"all"==s.settings.preloadImages&&(e=s.children),s.settings.ticker?s.settings.pager=!1:(s.settings.pager&&x(),s.settings.controls&&S(),s.settings.auto&&s.settings.autoControls&&T(),(s.settings.controls||s.settings.autoControls||s.settings.pager)&&s.viewport.after(s.controls.el)),u(e,h)},u=function(e,i){var o=e.find("img, iframe").length;if(0==o)return void i();var n=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++n==o&&i()}).each(function(){this.complete&&t(this).load()})})},h=function(){if(s.settings.infiniteLoop&&"fade"!=s.settings.mode&&!s.settings.ticker){var e="vertical"==s.settings.mode?s.settings.minSlides:s.settings.maxSlides,i=s.children.slice(0,e).clone().addClass("bx-clone"),o=s.children.slice(-e).clone().addClass("bx-clone");r.append(i).prepend(o)}s.loader.remove(),b(),"vertical"==s.settings.mode&&(s.settings.adaptiveHeight=!0),s.viewport.height(p()),r.redrawSlider(),s.settings.onSliderLoad(s.active.index),s.initialized=!0,s.settings.responsive&&t(window).bind("resize",N),s.settings.auto&&s.settings.autoStart&&A(),s.settings.ticker&&$(),s.settings.pager&&P(s.settings.startSlide),s.settings.controls&&j(),s.settings.touchEnabled&&!s.settings.ticker&&W()},p=function(){var e=0,o=t();if("vertical"==s.settings.mode||s.settings.adaptiveHeight)if(s.carousel){var n=1==s.settings.moveSlides?s.active.index:s.active.index*y();for(o=s.children.eq(n),i=1;i<=s.settings.maxSlides-1;i++)o=o.add(n+i>=s.children.length?s.children.eq(i-1):s.children.eq(n+i))}else o=s.children.eq(s.active.index);else o=s.children;return"vertical"==s.settings.mode?(o.each(function(){e+=t(this).outerHeight()}),s.settings.slideMargin>0&&(e+=s.settings.slideMargin*(s.settings.minSlides-1))):e=Math.max.apply(Math,o.map(function(){return t(this).outerHeight(!1)}).get()),e},f=function(){var t="100%";return s.settings.slideWidth>0&&(t="horizontal"==s.settings.mode?s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin:s.settings.slideWidth),t},m=function(){var t=s.settings.slideWidth,e=s.viewport.width();return 0==s.settings.slideWidth||s.settings.slideWidth>e&&!s.carousel||"vertical"==s.settings.mode?t=e:s.settings.maxSlides>1&&"horizontal"==s.settings.mode&&(e>s.maxThreshold||e<s.minThreshold&&(t=(e-s.settings.slideMargin*(s.settings.minSlides-1))/s.settings.minSlides)),t},g=function(){var t=1;if("horizontal"==s.settings.mode&&s.settings.slideWidth>0)if(s.viewport.width()<s.minThreshold)t=s.settings.minSlides;else if(s.viewport.width()>s.maxThreshold)t=s.settings.maxSlides;else{var e=s.children.first().width();t=Math.floor(s.viewport.width()/e)}else"vertical"==s.settings.mode&&(t=s.settings.minSlides);return t},v=function(){var t=0;if(s.settings.moveSlides>0)if(s.settings.infiniteLoop)t=s.children.length/y();else for(var e=0,i=0;e<s.children.length;)++t,e=i+g(),i+=s.settings.moveSlides<=g()?s.settings.moveSlides:g();else t=Math.ceil(s.children.length/g());return t},y=function(){return s.settings.moveSlides>0&&s.settings.moveSlides<=g()?s.settings.moveSlides:g()},b=function(){if(s.children.length>s.settings.maxSlides&&s.active.last&&!s.settings.infiniteLoop){if("horizontal"==s.settings.mode){var t=s.children.last(),e=t.position();w(-(e.left-(s.viewport.width()-t.width())),"reset",0)}else if("vertical"==s.settings.mode){var i=s.children.length-s.settings.minSlides,e=s.children.eq(i).position();w(-e.top,"reset",0)}}else{var e=s.children.eq(s.active.index*y()).position();s.active.index==v()-1&&(s.active.last=!0),void 0!=e&&("horizontal"==s.settings.mode?w(-e.left,"reset",0):"vertical"==s.settings.mode&&w(-e.top,"reset",0))}},w=function(t,e,i,o){if(s.usingCSS){var n="vertical"==s.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";r.css("-"+s.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(r.css(s.animProp,n),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),M()})):"reset"==e?r.css(s.animProp,n):"ticker"==e&&(r.css("-"+s.cssPrefix+"-transition-timing-function","linear"),r.css(s.animProp,n),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(o.resetValue,"reset",0),H()}))}else{var a={};a[s.animProp]=t,"slide"==e?r.animate(a,i,s.settings.easing,function(){M()}):"reset"==e?r.css(s.animProp,t):"ticker"==e&&r.animate(a,speed,"linear",function(){w(o.resetValue,"reset",0),H()})}},_=function(){for(var e="",i=v(),o=0;i>o;o++){var n="";s.settings.buildPager&&t.isFunction(s.settings.buildPager)?(n=s.settings.buildPager(o),s.pagerEl.addClass("bx-custom-pager")):(n=o+1,s.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+n+"</a></div>"}s.pagerEl.html(e)},x=function(){s.settings.pagerCustom?s.pagerEl=t(s.settings.pagerCustom):(s.pagerEl=t('<div class="bx-pager" />'),s.settings.pagerSelector?t(s.settings.pagerSelector).html(s.pagerEl):s.controls.el.addClass("bx-has-pager").append(s.pagerEl),_()),s.pagerEl.on("click","a",L)},S=function(){s.controls.next=t('<a class="bx-next" href="">'+s.settings.nextText+"</a>"),s.controls.prev=t('<a class="bx-prev" href="">'+s.settings.prevText+"</a>"),s.controls.next.bind("click",z),s.controls.prev.bind("click",E),s.settings.nextSelector&&t(s.settings.nextSelector).append(s.controls.next),s.settings.prevSelector&&t(s.settings.prevSelector).append(s.controls.prev),s.settings.nextSelector||s.settings.prevSelector||(s.controls.directionEl=t('<div class="bx-controls-direction" />'),s.controls.directionEl.append(s.controls.prev).append(s.controls.next),s.controls.el.addClass("bx-has-controls-direction").append(s.controls.directionEl))},T=function(){s.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+s.settings.startText+"</a></div>"),s.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+s.settings.stopText+"</a></div>"),s.controls.autoEl=t('<div class="bx-controls-auto" />'),s.controls.autoEl.on("click",".bx-start",C),s.controls.autoEl.on("click",".bx-stop",I),s.settings.autoControlsCombine?s.controls.autoEl.append(s.controls.start):s.controls.autoEl.append(s.controls.start).append(s.controls.stop),s.settings.autoControlsSelector?t(s.settings.autoControlsSelector).html(s.controls.autoEl):s.controls.el.addClass("bx-has-controls-auto").append(s.controls.autoEl),O(s.settings.autoStart?"stop":"start")},k=function(){s.children.each(function(){var e=t(this).find("img:first").attr("title");void 0!=e&&(""+e).length&&t(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},z=function(t){s.settings.auto&&r.stopAuto(),r.goToNextSlide(),t.preventDefault()},E=function(t){s.settings.auto&&r.stopAuto(),r.goToPrevSlide(),t.preventDefault()},C=function(t){r.startAuto(),t.preventDefault()},I=function(t){r.stopAuto(),t.preventDefault()},L=function(e){s.settings.auto&&r.stopAuto();var i=t(e.currentTarget),o=parseInt(i.attr("data-slide-index"));o!=s.active.index&&r.goToSlide(o),e.preventDefault()},P=function(e){var i=s.children.length;return"short"==s.settings.pagerType?(s.settings.maxSlides>1&&(i=Math.ceil(s.children.length/s.settings.maxSlides)),void s.pagerEl.html(e+1+s.settings.pagerShortSeparator+i)):(s.pagerEl.find("a").removeClass("active"),void s.pagerEl.each(function(i,o){t(o).find("a").eq(e).addClass("active")}))},M=function(){if(s.settings.infiniteLoop){var t="";0==s.active.index?t=s.children.eq(0).position():s.active.index==v()-1&&s.carousel?t=s.children.eq((v()-1)*y()).position():s.active.index==s.children.length-1&&(t=s.children.eq(s.children.length-1).position()),t&&("horizontal"==s.settings.mode?w(-t.left,"reset",0):"vertical"==s.settings.mode&&w(-t.top,"reset",0))}s.working=!1,s.settings.onSlideAfter(s.children.eq(s.active.index),s.oldIndex,s.active.index)},O=function(t){s.settings.autoControlsCombine?s.controls.autoEl.html(s.controls[t]):(s.controls.autoEl.find("a").removeClass("active"),s.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},j=function(){1==v()?(s.controls.prev.addClass("disabled"),s.controls.next.addClass("disabled")):!s.settings.infiniteLoop&&s.settings.hideControlOnEnd&&(0==s.active.index?(s.controls.prev.addClass("disabled"),s.controls.next.removeClass("disabled")):s.active.index==v()-1?(s.controls.next.addClass("disabled"),s.controls.prev.removeClass("disabled")):(s.controls.prev.removeClass("disabled"),s.controls.next.removeClass("disabled")))},A=function(){s.settings.autoDelay>0?setTimeout(r.startAuto,s.settings.autoDelay):r.startAuto(),s.settings.autoHover&&r.hover(function(){s.interval&&(r.stopAuto(!0),s.autoPaused=!0)},function(){s.autoPaused&&(r.startAuto(!0),s.autoPaused=null)})},$=function(){var e=0;if("next"==s.settings.autoDirection)r.append(s.children.clone().addClass("bx-clone"));else{r.prepend(s.children.clone().addClass("bx-clone"));var i=s.children.first().position();e="horizontal"==s.settings.mode?-i.left:-i.top}w(e,"reset",0),s.settings.pager=!1,s.settings.controls=!1,s.settings.autoControls=!1,s.settings.tickerHover&&!s.usingCSS&&s.viewport.hover(function(){r.stop()},function(){var e=0;s.children.each(function(){e+="horizontal"==s.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=s.settings.speed/e,o="horizontal"==s.settings.mode?"left":"top",n=i*(e-Math.abs(parseInt(r.css(o))));H(n)}),H()},H=function(t){speed=t?t:s.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==s.settings.autoDirection?e=r.find(".bx-clone").first().position():i=s.children.first().position();var o="horizontal"==s.settings.mode?-e.left:-e.top,n="horizontal"==s.settings.mode?-i.left:-i.top,a={resetValue:n};w(o,"ticker",speed,a)},W=function(){s.touch={start:{x:0,y:0},end:{x:0,y:0}},s.viewport.bind("touchstart",R)},R=function(t){if(s.working)t.preventDefault();else{s.touch.originalPos=r.position();var e=t.originalEvent;s.touch.start.x=e.changedTouches[0].pageX,s.touch.start.y=e.changedTouches[0].pageY,s.viewport.bind("touchmove",D),s.viewport.bind("touchend",B)}},D=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-s.touch.start.x),o=Math.abs(e.changedTouches[0].pageY-s.touch.start.y);if(3*i>o&&s.settings.preventDefaultSwipeX?t.preventDefault():3*o>i&&s.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=s.settings.mode&&s.settings.oneToOneTouch){var n=0;if("horizontal"==s.settings.mode){var r=e.changedTouches[0].pageX-s.touch.start.x;n=s.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-s.touch.start.y;n=s.touch.originalPos.top+r}w(n,"reset",0)}},B=function(t){s.viewport.unbind("touchmove",D);var e=t.originalEvent,i=0;if(s.touch.end.x=e.changedTouches[0].pageX,s.touch.end.y=e.changedTouches[0].pageY,"fade"==s.settings.mode){var o=Math.abs(s.touch.start.x-s.touch.end.x);o>=s.settings.swipeThreshold&&(s.touch.start.x>s.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var o=0;"horizontal"==s.settings.mode?(o=s.touch.end.x-s.touch.start.x,i=s.touch.originalPos.left):(o=s.touch.end.y-s.touch.start.y,i=s.touch.originalPos.top),!s.settings.infiniteLoop&&(0==s.active.index&&o>0||s.active.last&&0>o)?w(i,"reset",200):Math.abs(o)>=s.settings.swipeThreshold?(0>o?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):w(i,"reset",200)}s.viewport.unbind("touchend",B)},N=function(){var e=t(window).width(),i=t(window).height();(a!=e||l!=i)&&(a=e,l=i,r.redrawSlider(),s.settings.onSliderResize.call(r,s.active.index))};return r.goToSlide=function(e,i){if(!s.working&&s.active.index!=e)if(s.working=!0,s.oldIndex=s.active.index,s.active.index=0>e?v()-1:e>=v()?0:e,s.settings.onSlideBefore(s.children.eq(s.active.index),s.oldIndex,s.active.index),"next"==i?s.settings.onSlideNext(s.children.eq(s.active.index),s.oldIndex,s.active.index):"prev"==i&&s.settings.onSlidePrev(s.children.eq(s.active.index),s.oldIndex,s.active.index),s.active.last=s.active.index>=v()-1,s.settings.pager&&P(s.active.index),s.settings.controls&&j(),"fade"==s.settings.mode)s.settings.adaptiveHeight&&s.viewport.height()!=p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed),s.children.filter(":visible").fadeOut(s.settings.speed).css({zIndex:0}),s.children.eq(s.active.index).css("zIndex",s.settings.slideZIndex+1).fadeIn(s.settings.speed,function(){t(this).css("zIndex",s.settings.slideZIndex),M()});else{s.settings.adaptiveHeight&&s.viewport.height()!=p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed);var o=0,n={left:0,top:0};if(!s.settings.infiniteLoop&&s.carousel&&s.active.last)if("horizontal"==s.settings.mode){var a=s.children.eq(s.children.length-1);n=a.position(),o=s.viewport.width()-a.outerWidth()}else{var l=s.children.length-s.settings.minSlides;n=s.children.eq(l).position()}else if(s.carousel&&s.active.last&&"prev"==i){var c=1==s.settings.moveSlides?s.settings.maxSlides-y():(v()-1)*y()-(s.children.length-s.settings.maxSlides),a=r.children(".bx-clone").eq(c);n=a.position()}else if("next"==i&&0==s.active.index)n=r.find("> .bx-clone").eq(s.settings.maxSlides).position(),s.active.last=!1;else if(e>=0){var d=e*y();n=s.children.eq(d).position()}if("undefined"!=typeof n){var u="horizontal"==s.settings.mode?-(n.left-o):-n.top;w(u,"slide",s.settings.speed)}}},r.goToNextSlide=function(){if(s.settings.infiniteLoop||!s.active.last){var t=parseInt(s.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(s.settings.infiniteLoop||0!=s.active.index){var t=parseInt(s.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){s.interval||(s.interval=setInterval(function(){"next"==s.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},s.settings.pause),s.settings.autoControls&&1!=t&&O("stop"))},r.stopAuto=function(t){s.interval&&(clearInterval(s.interval),s.interval=null,s.settings.autoControls&&1!=t&&O("start"))},r.getCurrentSlide=function(){return s.active.index},r.getCurrentSlideElement=function(){return s.children.eq(s.active.index)},r.getSlideCount=function(){return s.children.length},r.redrawSlider=function(){s.children.add(r.find(".bx-clone")).outerWidth(m()),s.viewport.css("height",p()),s.settings.ticker||b(),s.active.last&&(s.active.index=v()-1),s.active.index>=v()&&(s.active.last=!0),s.settings.pager&&!s.settings.pagerCustom&&(_(),P(s.active.index))},r.destroySlider=function(){s.initialized&&(s.initialized=!1,t(".bx-clone",this).remove(),s.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),s.controls.el&&s.controls.el.remove(),s.controls.next&&s.controls.next.remove(),s.controls.prev&&s.controls.prev.remove(),s.pagerEl&&s.settings.controls&&s.pagerEl.remove(),t(".bx-caption",this).remove(),s.controls.autoEl&&s.controls.autoEl.remove(),clearInterval(s.interval),s.settings.responsive&&t(window).unbind("resize",N))},r.reloadSlider=function(t){void 0!=t&&(n=t),r.destroySlider(),c()},c(),this}}(jQuery),function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,i){t.fn[e]=function(n){if("string"==typeof n){for(var r=o.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],d=t.data(c,e);if(d)if(t.isFunction(d[n])&&"_"!==n.charAt(0)){var u=d[n].apply(d,r);if(void 0!==u)return u}else s("no such method '"+n+"' for "+e+" instance");else s("cannot call methods on "+e+" prior to initialization; attempted to call '"+n+"'")}return this}return this.each(function(){var o=t.data(this,e);o?(o.option(n),o._init()):(o=new i(this,n),t.data(this,e,o))})}}if(t){var s="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),n(t,e)},t.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent("on"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var s={bind:o,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",s):"object"==typeof exports?module.exports=s:t.eventie=s}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==n.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var o=0,r=s.length;r>o;o++){var a=s[o];a()}}}function o(o){return o.bind(n,"DOMContentLoaded",i),o.bind(n,"readystatechange",i),o.bind(t,"load",i),e}var n=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],o)):t.docReady=o(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,s=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if(t instanceof RegExp){e={};for(i in o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}else e=o[t]||(o[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),s="object"==typeof i;for(o in n)n.hasOwnProperty(o)&&-1===e(n[o],i)&&n[o].push(s?i:{listener:i,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,i){var o,n,s=this.getListenersAsObject(t);for(n in s)s.hasOwnProperty(n)&&(o=e(s[n],i),-1!==o&&s[n].splice(o,1));return this},o.off=i("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,s=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)s.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?s.call(this,o,n):r.call(this,o,n));return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i)delete o[t];else if(t instanceof RegExp)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(t,e){var i,o,n,s,r=this.getListenersAsObject(t);for(n in r)if(r.hasOwnProperty(n))for(o=r[n].length;o--;)i=r[n][o],i.once===!0&&this.removeListener(t,i.listener),s=i.listener.apply(this,e||[]),s===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=i("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=s,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof o[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,s=i.length;s>n;n++)if(e=i[n]+t,"string"==typeof o[e])return e}}var i="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=r.length;i>e;e++){var o=r[e];t[o]=0}return t}function o(t){function o(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var o=s(t);if("none"===o.display)return i();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var d=n.isBorderBox=!(!c||!o[c]||"border-box"!==o[c]),u=0,h=r.length;h>u;u++){var p=r[u],f=o[p];f=a(t,f);var m=parseFloat(f);n[p]=isNaN(m)?0:m}var g=n.paddingLeft+n.paddingRight,v=n.paddingTop+n.paddingBottom,y=n.marginLeft+n.marginRight,b=n.marginTop+n.marginBottom,w=n.borderLeftWidth+n.borderRightWidth,_=n.borderTopWidth+n.borderBottomWidth,x=d&&l,S=e(o.width);S!==!1&&(n.width=S+(x?0:g+w));var T=e(o.height);return T!==!1&&(n.height=T+(x?0:v+_)),n.innerWidth=n.width-(g+w),n.innerHeight=n.height-(v+_),n.outerWidth=n.width+y,n.outerHeight=n.height+b,n}}function a(t,e){if(n||-1===e.indexOf("%"))return e;var i=t.style,o=i.left,s=t.runtimeStyle,r=s&&s.left;return r&&(s.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=o,r&&(s.left=r),e}var l,c=t("boxSizing");return function(){if(c){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[c]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var o=s(t);l=200===e(o.width),i.removeChild(t)}}(),o}var n=t.getComputedStyle,s=n?function(t){return n(t,null)}:function(t){return t.currentStyle},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[a](e)}function o(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function n(t,e){o(t);for(var i=t.parentNode.querySelectorAll(e),n=0,s=i.length;s>n;n++)if(i[n]===t)return!0;return!1}function s(t,e){return o(t),i(t,e)}var r,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,o=t.length;o>i;i++){var n=t[i],s=n+"MatchesSelector";if(e[s])return s}}();if(a){var l=document.createElement("div"),c=i(l,"div");r=c?i:s}else r=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):window.matchesSelector=r}(this,Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return e=null,!0}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function n(t,n,s){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=s("transition"),c=s("transform"),d=l&&c,u=!!s("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;i>e;e++){var o=p[e],n=s(o);n&&n!==o&&(t[o]=n)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var i in t){var o=f[i]||i;e[o]=t[i]}},a.prototype.getPosition=function(){var t=r(this.element),e=this.layout.options,i=e.isOriginLeft,o=e.isOriginTop,n=parseInt(t[i?"left":"right"],10),s=parseInt(t[o?"top":"bottom"],10);n=isNaN(n)?0:n,s=isNaN(s)?0:s;var a=this.layout.size;n-=i?a.paddingLeft:a.paddingRight,s-=o?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=s},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var m=u?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),s=parseInt(e,10),r=n===this.position.x&&s===this.position.y;if(this.setPosition(t,e),r&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,l=e-o,c={},d=this.layout.options;a=d.isOriginLeft?a:-a,l=d.isOriginTop?l:-l,c.transform=m(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=d?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g=c&&o(c)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,o=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[o],i(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[o]),o in e.onEnd){var n=e.onEnd[o];n.call(this),delete e.onEnd[o]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(y)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var s=t.getComputedStyle,r=s?function(t){return s(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],n):(t.Outlayer={},t.Outlayer.Item=n(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===u.call(t)}function o(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var o=0,n=t.length;n>o;o++)e.push(t[o]);else e.push(t);return e}function n(t,e){var i=p(e,t);-1!==i&&e.splice(i,1)}function s(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function r(i,r,u,p,f,m){function g(t,i){if("string"==typeof t&&(t=a.querySelector(t)),!t||!h(t))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var o=++v;this.element.outlayerGUID=o,y[o]=this,this._create(),this.options.isInitLayout&&this.layout()}var v=0,y={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,u.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)
},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0,s=e.length;s>n;n++){var r=e[n],a=new i(r,this);o.push(a)}return o},g.prototype._filterFindItemElements=function(t){t=o(t);for(var e=this.options.itemSelector,i=[],n=0,s=t.length;s>n;n++){var r=t[n];if(h(r))if(e){f(r,e)&&i.push(r);for(var a=r.querySelectorAll(e),l=0,c=a.length;c>l;l++)i.push(a[l])}else i.push(r)}return i},g.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):h(o)&&(i=o),this[t]=i?p(i)[e]:o):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i];n.isIgnored||e.push(n)}return e},g.prototype._layoutItems=function(t,e){function i(){o.emitEvent("layoutComplete",[o,t])}var o=this;if(!t||!t.length)return void i();this._itemsOn(t,"layout",i);for(var n=[],s=0,r=t.length;r>s;s++){var a=t[s],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,n.push(l)}this._processLayoutQueue(n)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];this._positionItem(o.item,o.x,o.y,o.isInstant)}},g.prototype._positionItem=function(t,e,i,o){o?t.goTo(e,i):t.moveTo(e,i)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=d,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,i){function o(){return n++,n===s&&i.call(r),!0}for(var n=0,s=t.length,r=this,a=0,l=t.length;l>a;a++){var c=t[a];c.on(e,o)}},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var o=t[e];this.ignore(o)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var o=t[e];n(o,this.stamps),this.unignore(o)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=d,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=p(t),n={left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom};return n},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=p(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.reveal()}},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.hide()}},g.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];if(o.element===t)return o}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i],s=this.getItem(n);s&&e.push(s)}return e}},g.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,s=e.length;s>i;i++){var r=e[i];r.remove(),n(r,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];o.destroy()}this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&y[e]},g.create=function(t,i){function o(){g.apply(this,arguments)}return Object.create?o.prototype=Object.create(g.prototype):e(o.prototype,g.prototype),o.prototype.constructor=o,o.defaults=e({},g.defaults),e(o.defaults,i),o.prototype.settings={},o.namespace=t,o.data=g.data,o.Item=function(){m.apply(this,arguments)},o.Item.prototype=new m,r(function(){for(var e=s(t),i=a.querySelectorAll(".js-"+e),n="data-"+e+"-options",r=0,d=i.length;d>r;r++){var u,h=i[r],p=h.getAttribute(n);try{u=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+n+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+f);continue}var m=new o(h,u);c&&c.data(h,t,m)}}),c&&c.bridget&&c.bridget(t,o),o},g.Item=m,g}var a=t.document,l=t.console,c=t.jQuery,d=function(){},u=Object.prototype.toString,h="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],r):t.Outlayer=r(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}return e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var o=e[i];this.sortData[i]=o(this.element,this)}}},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(t,e){function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],n=0,s=o.length;s>n;n++){var r=o[n];i.prototype[r]=t(r)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!==this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(t,e){var i=t+e,o="outer"+e;if(this._getMeasurement(i,o),!this[i]){var n=this.getFirstItemSize();this[i]=n&&n[o]||this.isotope.size["inner"+e]}},i.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=new i,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,e){var o=t.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},o.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,o=e&&1>e?"round":"ceil",n=Math[o](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var s=this._getColGroup(n),r=Math.min.apply(Math,s),a=i(s,r),l={x:this.columnWidth*a,y:r},c=r+t.size.outerHeight,d=this.cols+1-s.length,u=0;d>u;u++)this.colYs[a+u]=c;return l},o.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;i>o;o++){var n=this.colYs.slice(o,o+t);e[o]=Math.max.apply(Math,n)}return e},o.prototype._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this.options.isOriginLeft?o.left:o.right,s=n+i.outerWidth,r=Math.floor(n/this.columnWidth);r=Math.max(0,r);var a=Math.floor(s/this.columnWidth);a-=s%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?o.top:o.bottom)+i.outerHeight,c=r;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},o.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},o}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++){var n=t[i];if(n===e)return i}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t,i){var o=t.create("masonry"),n=o.prototype._getElementOffset,s=o.prototype.layout,r=o.prototype._getMeasurement;e(o.prototype,i.prototype),o.prototype._getElementOffset=n,o.prototype.layout=s,o.prototype._getMeasurement=r;var a=o.prototype.measureColumns;o.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var l=o.prototype._manageStamp;return o.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},o}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],i):i(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},e.prototype._getItemLayoutPosition=function(t){t.getSize(),0!==this.x&&t.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var e={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=t.size.outerWidth,e},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===d.call(t)}function o(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var o=0,n=t.length;n>o;o++)e.push(t[o]);else e.push(t);return e}function n(t,e){var i=u(e,t);-1!==i&&e.splice(i,1)}function s(t,i,s,l,d){function u(t,e){return function(i,o){for(var n=0,s=t.length;s>n;n++){var r=t[n],a=i.sortData[r],l=o.sortData[r];if(a>l||l>a){var c=void 0!==e[r]?e[r]:e,d=c?1:-1;return(a>l?1:-1)*d}}return 0}}var h=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=l,h.LayoutMode=d,h.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in d.modes)this._initLayoutMode(e)},h.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},h.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),i=0,o=e.length;o>i;i++){var n=e[i];n.id=this.itemGUID++}return this._updateItemsSortData(e),e},h.prototype._initLayoutMode=function(t){var i=d.modes[t],o=this.options[t]||{};this.options[t]=i.options?e(i.options,o):o,this.modes[t]=new i(this)},h.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},h.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},h.prototype.arrange=function(t){this.option(t),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},h.prototype._init=h.prototype.arrange,h.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},h.prototype._filter=function(t){function e(){u.reveal(n),u.hide(s)}var i=this.options.filter;i=i||"*";for(var o=[],n=[],s=[],r=this._getFilterTest(i),a=0,l=t.length;l>a;a++){var c=t[a];if(!c.isIgnored){var d=r(c);d&&o.push(c),d&&c.isHidden?n.push(c):d||c.isHidden||s.push(c)}}var u=this;return this._isInstant?this._noTransition(e):e(),o},h.prototype._getFilterTest=function(t){return r&&this.options.isJQueryFiltering?function(e){return r(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return s(e.element,t)}},h.prototype.updateSortData=function(t){this._getSorters(),t=o(t);var e=this.getItems(t);e=e.length?e:this.items,this._updateItemsSortData(e)},h.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=p(i)}},h.prototype._updateItemsSortData=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];o.updateSortData()}};var p=function(){function t(t){if("string"!=typeof t)return t;var i=a(t).split(" "),o=i[0],n=o.match(/^\[(.+)\]$/),s=n&&n[1],r=e(s,o),l=h.sortDataParsers[i[1]];return t=l?function(t){return t&&l(r(t))}:function(t){return t&&r(t)}}function e(t,e){var i;return i=t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&c(i)}}return t}();h.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},h.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=u(e,this.options.sortAscending);this.filteredItems.sort(i),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},h.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error("No layout mode: "+t);return e.options=this.options[t],e},h.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},h.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},h.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},h.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},h.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},h.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(i),this.filteredItems=o.concat(this.filteredItems)}},h.prototype._filterRevealAdded=function(t){var e=this._noTransition(function(){return this._filter(t)});return this.layoutItems(e,!0),this.reveal(e),t},h.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,o,n=e.length;for(i=0;n>i;i++)o=e[i],this.element.appendChild(o.element);var s=this._filter(e);for(this._noTransition(function(){this.hide(s)}),i=0;n>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;n>i;i++)delete e[i].isLayoutInstant;this.reveal(s)}};var f=h.prototype.remove;return h.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(f.call(this,t),e&&e.length)for(var i=0,s=e.length;s>i;i++){var r=e[i];n(r,this.filteredItems)}},h.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},h}var r=t.jQuery,a=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},l=document.documentElement,c=l.textContent?function(t){return t.textContent}:function(t){return t.innerText},d=Object.prototype.toString,u=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],s):t.Isotope=s(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window),function(t,e,i){e.infinitescroll=function(t,i,o){this.element=e(o),this._create(t,i)},e.infinitescroll.defaults={loading:{finished:i,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"http://www.infinite-scroll.com/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:i},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,currPage:1},callback:i,debug:!1,behavior:i,binder:e(t),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:i,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:i,path:i},e.infinitescroll.prototype={_binding:function(t){var e=this,o=e.options;return o.behavior&&this["_binding_"+o.behavior]!==i?void this["_binding_"+o.behavior].call(this):"bind"!==t&&"unbind"!==t?(this._debug("Binding value  "+t+" not valid"),!1):("unbind"==t?this.options.binder.unbind("smartscroll.infscr."+e.options.infid):this.options.binder[t]("smartscroll.infscr."+e.options.infid,function(){e.scroll()}),void this._debug("Binding",t))},_create:function(t,o){if(!this._validate(t))return!1;var n=this.options=e.extend(!0,{},e.infinitescroll.defaults,t),s=e(n.nextSelector).attr("href");return n.contentSelector=n.contentSelector||this.element,n.loading.selector=n.loading.selector||n.contentSelector,s?(n.path=this._determinepath(s),n.loading.msg=e('<div id="infscr-loading"><img alt="Loading..." src="'+n.loading.img+'" /><div>'+n.loading.msgText+"</div></div>"),(new Image).src=n.loading.img,n.pixelsFromNavToBottom=e(document).height()-e(n.navSelector).offset().top,n.loading.start=n.loading.start||function(){e(n.navSelector).hide(),n.loading.msg.appendTo(n.loading.selector).show(n.loading.speed,function(){beginAjax(n)})},n.loading.finished=n.loading.finished||function(){n.loading.msg.fadeOut("normal")},n.callback=function(t,s){n.behavior&&t["_callback_"+n.behavior]!==i&&t["_callback_"+n.behavior].call(e(n.contentSelector)[0],s),o&&o.call(e(n.contentSelector)[0],s)},void this._setup()):void this._debug("Navigation selector not found")},_debug:function(){return this.options.debug?t.console&&console.log.call(console,arguments):void 0},_determinepath:function(t){var e=this.options;if(e.behavior&&this["_determinepath_"+e.behavior]!==i)return void this["_determinepath_"+e.behavior].call(this,t);if(e.pathParse)return this._debug("pathParse manual"),e.pathParse;if(t.match(/^(.*?)\b2\b(.*?$)/))t=t.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(t.match(/^(.*?)2(.*?$)/)){if(t.match(/^(.*?page=)2(\/.*|$)/))return t=t.match(/^(.*?page=)2(\/.*|$)/).slice(1);t=t.match(/^(.*?)2(.*?$)/).slice(1)}else{if(t.match(/^(.*?page=)1(\/.*|$)/))return t=t.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),e.state.isInvalidPage=!0}return this._debug("determinePath",t),t},_error:function(t){var e=this.options;return e.behavior&&this["_error_"+e.behavior]!==i?void this["_error_"+e.behavior].call(this,t):("destroy"!==t&&"end"!==t&&(t="unknown"),this._debug("Error",t),"end"==t&&this._showdonemsg(),e.state.isDone=!0,e.state.currPage=1,e.state.isPaused=!1,void this._binding("unbind"))},_loadcallback:function(o,n){var s,r=this.options,a=this.options.callback,l=r.state.isDone?"done":r.appendCallback?"append":"no-append";if(r.behavior&&this["_loadcallback_"+r.behavior]!==i)return void this["_loadcallback_"+r.behavior].call(this,o,n);switch(l){case"done":return this._showdonemsg(),!1;case"no-append":"html"==r.dataType&&(n="<div>"+n+"</div>",n=e(n).find(r.itemSelector));break;case"append":var c=o.children();if(0==c.length)return this._error("end");for(s=document.createDocumentFragment();o[0].firstChild;)s.appendChild(o[0].firstChild);this._debug("contentSelector",e(r.contentSelector)[0]),e(r.contentSelector)[0].appendChild(s),n=c.get()}if(r.loading.finished.call(e(r.contentSelector)[0],r),r.animate){var d=e(t).scrollTop()+e("#infscr-loading").height()+r.extraScrollPx+"px";e("html,body").animate({scrollTop:d},800,function(){r.state.isDuringAjax=!1})}r.animate||(r.state.isDuringAjax=!1),a(this,n)},_nearbottom:function(){var o=this.options,n=0+e(document).height()-o.binder.scrollTop()-e(t).height();return o.behavior&&this["_nearbottom_"+o.behavior]!==i?void this["_nearbottom_"+o.behavior].call(this):(this._debug("math:",n,o.pixelsFromNavToBottom),n-o.bufferPx<o.pixelsFromNavToBottom)},_pausing:function(t){var e=this.options;if(e.behavior&&this["_pausing_"+e.behavior]!==i)return void this["_pausing_"+e.behavior].call(this,t);switch("pause"!==t&&"resume"!==t&&null!==t&&this._debug("Invalid argument. Toggling pause value instead"),t=!t||"pause"!=t&&"resume"!=t?"toggle":t){case"pause":e.state.isPaused=!0;break;case"resume":e.state.isPaused=!1;break;case"toggle":e.state.isPaused=!e.state.isPaused}return this._debug("Paused",e.state.isPaused),!1},_setup:function(){var t=this.options;return t.behavior&&this["_setup_"+t.behavior]!==i?void this["_setup_"+t.behavior].call(this):(this._binding("bind"),!1)},_showdonemsg:function(){var t=this.options;return t.behavior&&this["_showdonemsg_"+t.behavior]!==i?void this["_showdonemsg_"+t.behavior].call(this):(t.loading.msg.find("img").hide().parent().find("div").html(t.loading.finishedMsg).animate({opacity:1},2e3,function(){e(this).parent().fadeOut("normal")}),void t.errorCallback.call(e(t.contentSelector)[0],"done"))},_validate:function(t){for(var i in t)return i.indexOf&&i.indexOf("Selector")>-1&&0===e(t[i]).length?(this._debug("Your "+i+" found no elements."),!1):!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},retrieve:function(t){{var o,n,s,r,a=this,l=a.options,c=l.path,t=t||null;t?t:l.state.currPage}return beginAjax=function(t){switch(t.state.currPage++,a._debug("heading into ajax",c),o=e(e(t.contentSelector).is("table")?"<tbody/>":"<div/>"),n=c.join(t.state.currPage),s="html"==t.dataType||"json"==t.dataType?t.dataType:"html+callback",t.appendCallback&&"html"==t.dataType&&(s+="+callback"),s){case"html+callback":a._debug("Using HTML via .load() method"),o.load(n+" "+t.itemSelector,null,function(t){a._loadcallback(o,t)});break;case"html":case"json":a._debug("Using "+s.toUpperCase()+" via $.ajax() method"),e.ajax({url:n,dataType:t.dataType,complete:function(t,e){r="undefined"!=typeof t.isResolved?t.isResolved():"success"===e||"notmodified"===e,r?a._loadcallback(o,t.responseText):a._error("end")}})}},l.behavior&&this["retrieve_"+l.behavior]!==i?void this["retrieve_"+l.behavior].call(this,t):l.state.isDestroyed?(this._debug("Instance is destroyed"),!1):(l.state.isDuringAjax=!0,void l.loading.start.call(e(l.contentSelector)[0],l))},scroll:function(){var t=this.options,e=t.state;return t.behavior&&this["scroll_"+t.behavior]!==i?void this["scroll_"+t.behavior].call(this):void(e.isDuringAjax||e.isInvalidPage||e.isDone||e.isDestroyed||e.isPaused||this._nearbottom()&&this.retrieve())},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))}},e.fn.infinitescroll=function(t,i){var o=typeof t;switch(o){case"string":var n=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e.data(this,"infinitescroll");return i&&e.isFunction(i[t])&&"_"!==t.charAt(0)?void i[t].apply(i,n):!1});break;case"object":this.each(function(){var o=e.data(this,"infinitescroll");o?o.update(t):e.data(this,"infinitescroll",new e.infinitescroll(t,i,this))})}return this};var o,n=e.event;n.special.smartscroll={setup:function(){e(this).bind("scroll",n.special.smartscroll.handler)},teardown:function(){e(this).unbind("scroll",n.special.smartscroll.handler)},handler:function(t,i){var n=this,s=arguments;t.type="smartscroll",o&&clearTimeout(o),o=setTimeout(function(){e.event.handle.apply(n,s)},"execAsap"===i?0:100)}},e.fn.smartscroll=function(t){return t?this.bind("smartscroll",t):this.trigger("smartscroll",["execAsap"])}}(window,jQuery),function(t){function e(){var t=location.href;return hashtag=-1!==t.indexOf("#prettyPhoto")?decodeURI(t.substring(t.indexOf("#prettyPhoto")+1,t.length)):!1,hashtag}function i(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function o(){-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto")}function n(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+t+"=([^&#]*)",o=new RegExp(i),n=o.exec(e);return null==n?"":n[1]}t.prettyPhoto={version:"3.1.5"},t.fn.prettyPhoto=function(s){function r(){t(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(z/2-v.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:v.contentHeight,width:v.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:E/2-v.containerWidth/2<0?0:E/2-v.containerWidth/2,width:v.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(v.height).width(v.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==u(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(v.resized?t("a.pp_expand,a.pp_contract").show():t("a.pp_expand").hide()),!settings.autoplay_slideshow||S||y||t.prettyPhoto.startSlideshow(),settings.changepicturecallback(),y=!0}),m(),s.ajaxcallback()}function a(e){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){t(".pp_loaderIcon").show(),e()})}function l(e){e>1?t(".pp_nav").show():t(".pp_nav").hide()}function c(t,e){if(resized=!1,d(t,e),imageWidth=t,imageHeight=e,(x>E||_>z)&&doresize&&settings.allow_resize&&!k){for(resized=!0,fitting=!1;!fitting;)x>E?(imageWidth=E-200,imageHeight=e/t*imageWidth):_>z?(imageHeight=z-200,imageWidth=t/e*imageHeight):fitting=!0,_=imageHeight,x=imageWidth;(x>E||_>z)&&c(x,_),d(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(_),containerWidth:Math.floor(x)+2*settings.horizontal_padding,contentHeight:Math.floor(b),contentWidth:Math.floor(w),resized:resized}}function d(e,i){e=parseFloat(e),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(e),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(e).appendTo(t("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(e),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(t("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),b=i+detailsHeight,w=e,_=b+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),x=e}function u(t){return t.match(/youtube\.com\/watch/i)||t.match(/youtu\.be/i)?"youtube":t.match(/vimeo\.com/i)?"vimeo":t.match(/\b.mov\b/i)?"quicktime":t.match(/\b.swf\b/i)?"flash":t.match(/\biframe=true\b/i)?"iframe":t.match(/\bajax=true\b/i)?"ajax":t.match(/\bcustom=true\b/i)?"custom":"#"==t.substr(0,1)?"inline":"image"
}function h(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=p(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=z/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>z)return;$pp_pic_holder.css({top:projectedTop,left:E/2+scroll_pos.scrollLeft-contentwidth/2})}}function p(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function f(){z=t(window).height(),E=t(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(t(document).height()).width(E)}function m(){isSet&&settings.overlay_gallery&&"image"==u(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((v.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,t.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function g(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),t("body").append(settings.markup),$pp_pic_holder=t(".pp_pic_holder"),$ppt=t(".ppt"),$pp_overlay=t("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var e=0;e<pp_images.length;e++)pp_images[e].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[e]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=t(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return t.prettyPhoto.changeGalleryPage("next"),t.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return t.prettyPhoto.changeGalleryPage("previous"),t.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(e){t(this).find("a").click(function(){return t.prettyPhoto.changePage(e),t.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return t.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:t(document).height(),width:t(window).width()}).bind("click",function(){settings.modal||t.prettyPhoto.close()}),t("a.pp_close").bind("click",function(){return t.prettyPhoto.close(),!1}),settings.allow_expand&&t("a.pp_expand").bind("click",function(){return t(this).hasClass("pp_expand")?(t(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(t(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),a(function(){t.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return t.prettyPhoto.changePage("previous"),t.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return t.prettyPhoto.changePage("next"),t.prettyPhoto.stopSlideshow(),!1}),h()}s=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> 						<div class="ppt"> </div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},s);var v,y,b,w,_,x,S,T=this,k=!1,z=t(window).height(),E=t(window).width();return doresize=!0,scroll_pos=p(),t(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){h(),f()}),s.keyboard_shortcuts&&t(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(e){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(e.keyCode){case 37:t.prettyPhoto.changePage("previous"),e.preventDefault();break;case 39:t.prettyPhoto.changePage("next"),e.preventDefault();break;case 27:settings.modal||t.prettyPhoto.close(),e.preventDefault()}}),t.prettyPhoto.initialize=function(){return settings=s,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=t(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(T,function(e){return-1!=t(e).attr(settings.hook).indexOf(theRel)?t(e).attr("href"):void 0}):t.makeArray(t(this).attr("href")),pp_titles=isSet?jQuery.map(T,function(e){return-1!=t(e).attr(settings.hook).indexOf(theRel)?t(e).find("img").attr("alt")?t(e).find("img").attr("alt"):"":void 0}):t.makeArray(t(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(T,function(e){return-1!=t(e).attr(settings.hook).indexOf(theRel)?t(e).attr("title")?t(e).attr("title"):"":void 0}):t.makeArray(t(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(t(this).attr("href"),pp_images),rel_index=isSet?set_position:t("a["+settings.hook+"^='"+theRel+"']").index(t(this)),g(this),settings.allow_resize&&t(window).bind("scroll.prettyphoto",function(){h()}),t.prettyPhoto.open(),!1},t.prettyPhoto.open=function(e){return"undefined"==typeof settings&&(settings=s,pp_images=t.makeArray(arguments[0]),pp_titles=t.makeArray(arguments[1]?arguments[1]:""),pp_descriptions=t.makeArray(arguments[2]?arguments[2]:""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,g(e.target)),settings.hideflash&&t("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),l(t(pp_images).size()),t(".pp_loaderIcon").show(),settings.deeplinking&&i(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+t(pp_images).size()),"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(n("width",pp_images[set_position]))?n("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(n("height",pp_images[set_position]))?n("height",pp_images[set_position]):settings.default_height.toString(),k=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(t(window).height()*parseFloat(movie_height)/100-150),k=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(t(window).width()*parseFloat(movie_width)/100-150),k=!0),$pp_pic_holder.fadeIn(function(){switch($ppt.html(settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?unescape(pp_titles[set_position]):" "),imgPreloader="",skipInjection=!1,u(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<t(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){v=c(imgPreloader.width,imgPreloader.height),r()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),t.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":v=c(movie_width,movie_height),movie_id=n("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,movie+=n("rel",pp_images[set_position])?"?rel="+n("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,v.width).replace(/{height}/g,v.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":v=c(movie_width,movie_height),movie_id=pp_images[set_position];var e=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,i=movie_id.match(e);movie="http://player.vimeo.com/video/"+i[3]+"?title=0&byline=0&portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=v.width+"/embed/?moog_width="+v.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,v.height).replace(/{path}/g,movie);break;case"quicktime":v=c(movie_width,movie_height),v.height+=15,v.contentHeight+=15,v.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,v.width).replace(/{height}/g,v.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":v=c(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,v.width).replace(/{height}/g,v.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":v=c(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,v.width).replace(/{height}/g,v.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,v=c(movie_width,movie_height),doresize=!0,skipInjection=!0,t.get(pp_images[set_position],function(t){toInject=settings.inline_markup.replace(/{content}/g,t),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,r()});break;case"custom":v=c(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=t(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(t("body")).show(),doresize=!1,v=c(t(myClone).width(),t(myClone).height()),doresize=!0,t(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,t(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,r())}),!1},t.prettyPhoto.changePage=function(e){currentGalleryPage=0,"previous"==e?(set_position--,set_position<0&&(set_position=t(pp_images).size()-1)):"next"==e?(set_position++,set_position>t(pp_images).size()-1&&(set_position=0)):set_position=e,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&t(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),a(function(){t.prettyPhoto.open()})},t.prettyPhoto.changeGalleryPage=function(t){"next"==t?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==t?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=t,slide_speed="next"==t||"previous"==t?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},t.prettyPhoto.startSlideshow=function(){"undefined"==typeof S?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return t.prettyPhoto.stopSlideshow(),!1}),S=setInterval(t.prettyPhoto.startSlideshow,settings.slideshow)):t.prettyPhoto.changePage("next")},t.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return t.prettyPhoto.startSlideshow(),!1}),clearInterval(S),S=void 0},t.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(t.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),t("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){t(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&t("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),t(this).remove(),t(window).unbind("scroll.prettyphoto"),o(),settings.callback(),doresize=!0,y=!1,delete settings}))},!pp_alreadyInitialized&&e()&&(pp_alreadyInitialized=!0,hashIndex=e(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){t("a["+s.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",t.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var e=!1,i=!1,o=5e3,n=2e3,s=0,r=["ms","moz","webkit","o"],a=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!a)for(var c in r){var d=r[c];a||(a=window[d+"RequestAnimationFrame"]),l||(l=window[d+"CancelAnimationFrame"]||window[d+"CancelRequestAnimationFrame"])}var u=window.MutationObserver||window.WebKitMutationObserver||!1,h={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=document.getElementsByTagName("script"),t=t[t.length-1].src.split("?")[0];return 0<t.split("/").length?t.split("/").slice(0,-1).join("/")+"/":""}()},p=!1,f=function(){if(p)return p;var t=document.createElement("DIV"),e={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};e.isopera="opera"in window,e.isopera12=e.isopera&&"getUserMedia"in navigator,e.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),e.isie="all"in document&&"attachEvent"in t&&!e.isopera,e.isieold=e.isie&&!("msInterpolationMode"in t.style),e.isie7=!(!e.isie||e.isieold||"documentMode"in document&&7!=document.documentMode),e.isie8=e.isie&&"documentMode"in document&&8==document.documentMode,e.isie9=e.isie&&"performance"in window&&9<=document.documentMode,e.isie10=e.isie&&"performance"in window&&10<=document.documentMode,e.isie9mobile=/iemobile.9/i.test(navigator.userAgent),e.isie9mobile&&(e.isie9=!1),e.isie7mobile=!e.isie9mobile&&e.isie7&&/iemobile/i.test(navigator.userAgent),e.ismozilla="MozAppearance"in t.style,e.iswebkit="WebkitAppearance"in t.style,e.ischrome="chrome"in window,e.ischrome22=e.ischrome&&e.haspointerlock,e.ischrome26=e.ischrome&&"transition"in t.style,e.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,e.hasmstouch=window.navigator.msPointerEnabled||!1,e.ismac=/^mac$/i.test(navigator.platform),e.isios=e.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),e.isios4=e.isios&&!("seal"in Object),e.isandroid=/android/i.test(navigator.userAgent),e.trstyle=!1,e.hastransform=!1,e.hastranslate3d=!1,e.transitionstyle=!1,e.hastransition=!1,e.transitionend=!1;for(var i=["transform","msTransform","webkitTransform","MozTransform","OTransform"],o=0;o<i.length;o++)if("undefined"!=typeof t.style[i[o]]){e.trstyle=i[o];break}e.hastransform=0!=e.trstyle,e.hastransform&&(t.style[e.trstyle]="translate3d(1px,2px,3px)",e.hastranslate3d=/translate3d/.test(t.style[e.trstyle])),e.transitionstyle=!1,e.prefixstyle="",e.transitionend=!1;for(var i="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),n=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),s="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),o=0;o<i.length;o++)if(i[o]in t.style){e.transitionstyle=i[o],e.prefixstyle=n[o],e.transitionend=s[o];break}e.ischrome26&&(e.prefixstyle=n[1]),e.hastransition=e.transitionstyle;t:{for(i=["-moz-grab","-webkit-grab","grab"],(e.ischrome&&!e.ischrome22||e.isie)&&(i=[]),o=0;o<i.length;o++)if(n=i[o],t.style.cursor=n,t.style.cursor==n){i=n;break t}i="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return e.cursorgrabvalue=i,e.hasmousecapture="setCapture"in t,e.hasMutationObserver=!1!==u,p=e},m=function(r,c){function d(){var t=y.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}function p(t,e,i){return e=t.css(e),t=parseFloat(e),isNaN(t)?(t=S[e]||0,i=3==t?i?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1,y.isie8&&t&&(t+=1),i?t:0):t}function m(t,e,i,o){y._bind(t,e,function(o){o=o?o:window.event;var n={original:o,target:o.target||o.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==o.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},stopImmediatePropagation:function(){o.stopImmediatePropagation?o.stopImmediatePropagation():o.cancelBubble=!0}};return"mousewheel"==e?(n.deltaY=-.025*o.wheelDelta,o.wheelDeltaX&&(n.deltaX=-.025*o.wheelDeltaX)):n.deltaY=o.detail,i.call(t,n)},o)}function v(t,e,i){var o,n;if(0==t.deltaMode?(o=-Math.floor(t.deltaX*(y.opt.mousescrollstep/54)),n=-Math.floor(t.deltaY*(y.opt.mousescrollstep/54))):1==t.deltaMode&&(o=-Math.floor(t.deltaX*y.opt.mousescrollstep),n=-Math.floor(t.deltaY*y.opt.mousescrollstep)),e&&y.opt.oneaxismousemode&&0==o&&n&&(o=n,n=0),o&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=o,y.debounced("mousewheelx",function(){var t=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(t)},15)),n){if(y.opt.nativeparentscrolling&&i&&!y.ispage&&!y.zoomactive)if(0>n){if(y.getScrollTop()>=y.page.maxh)return!0}else if(0>=y.getScrollTop())return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=n,y.debounced("mousewheely",function(){var t=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(t)},15)}return t.stopImmediatePropagation(),t.preventDefault()}var y=this;if(this.version="3.5.4",this.name="nicescroll",this.me=c,this.opt={doc:t("body"),win:!1},t.extend(this.opt,h),this.opt.snapbackspeed=80,r)for(var b in y.opt)"undefined"!=typeof r[b]&&(y.opt[b]=r[b]);this.iddoc=(this.doc=y.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==y.opt.win,this.win=y.opt.win||(this.ispage?t(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win,this.body=t("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.isrtlmode=!1;do this.id="ascrail"+n++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=f();var w=t.extend({},this.detected);this.ishwscroll=(this.canhwscroll=w.hastransform&&y.opt.hwacceleration)&&y.haswrapper,this.istouchcapable=!1,w.cantouch&&w.ischrome&&!w.isios&&!w.isandroid&&(this.istouchcapable=!0,w.cantouch=!1),w.cantouch&&w.ismozilla&&!w.isios&&!w.isandroid&&(this.istouchcapable=!0,w.cantouch=!1),y.opt.enablemouselockapi||(w.hasmousecapture=!1,w.haspointerlock=!1),this.delayed=function(t,e,i,o){var n=y.delaylist[t],s=(new Date).getTime();return!o&&n&&n.tt?!1:(n&&n.tt&&clearTimeout(n.tt),void(n&&n.last+i>s&&!n.tt?y.delaylist[t]={last:s+i,tt:setTimeout(function(){y&&(y.delaylist[t].tt=0,e.call())},i)}:n&&n.tt||(y.delaylist[t]={last:s,tt:0},setTimeout(function(){e.call()},0))))},this.debounced=function(t,e,i){var o=y.delaylist[t];(new Date).getTime(),y.delaylist[t]=e,o||setTimeout(function(){var e=y.delaylist[t];y.delaylist[t]=!1,e.call()},i)};var _=!1;if(this.synched=function(t,e){return y.synclist[t]=e,function(){_||(a(function(){_=!1;for(t in y.synclist){var e=y.synclist[t];e&&e.call(y),y.synclist[t]=!1}}),_=!0)}(),t},this.unsynched=function(t){y.synclist[t]&&(y.synclist[t]=!1)},this.css=function(t,e){for(var i in e)y.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return"undefined"==typeof t?y.getScrollTop():y.setScrollTop(t)},this.scrollLeft=function(t){return"undefined"==typeof t?y.getScrollLeft():y.setScrollLeft(t)},BezierClass=function(t,e,i,o,n,s,r){this.st=t,this.ed=e,this.spd=i,this.p1=o||0,this.p2=n||1,this.p3=s||0,this.p4=r||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},w.hastranslate3d&&w.isios&&this.doc.css("-webkit-backface-visibility","hidden");var x=function(){var t=y.doc.css(w.trstyle);return t&&"matrix"==t.substr(0,6)?t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(t){if(!t){if(t=x())return 16==t.length?-t[13]:-t[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=x())return 16==t.length?-t[12]:-t[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),t.dispatchEvent(e)}:document.fireEvent?function(t){var e=document.createEventObject();t.fireEvent("onscroll"),e.cancelBubble=!0}:function(){},w.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(t,e){y.doc.translate.y=t,y.doc.translate.ty=-1*t+"px",y.doc.css(w.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),e||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(t,e){y.doc.translate.x=t,y.doc.translate.tx=-1*t+"px",y.doc.css(w.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),e||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(t,e){y.doc.translate.y=t,y.doc.translate.ty=-1*t+"px",y.doc.css(w.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),e||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(t,e){y.doc.translate.x=t,y.doc.translate.tx=-1*t+"px",y.doc.css(w.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),e||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(t){return y.docscroll.scrollTop(t)},this.getScrollLeft=function(){return y.docscroll.scrollLeft()},this.setScrollLeft=function(t){return y.docscroll.scrollLeft(t)};this.getTarget=function(t){return t?t.target?t.target:t.srcElement?t.srcElement:!1:!1},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var S={thin:1,medium:3,thick:5};this.getOffset=function(){if(y.isfixed)return{top:parseFloat(y.win.css("top")),left:parseFloat(y.win.css("left"))};if(!y.viewport)return y.win.offset();var t=y.win.offset(),e=y.viewport.offset();return{top:t.top-e.top+y.viewport.scrollTop(),left:t.left-e.left+y.viewport.scrollLeft()}},this.updateScrollBar=function(t){if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()}),y.railh&&y.railh.css({width:y.win.innerWidth()});else{var e=y.getOffset(),i=e.top,o=e.left,i=i+p(y.win,"border-top-width",!0);y.win.outerWidth(),y.win.innerWidth();var o=o+(y.rail.align?y.win.outerWidth()-p(y.win,"border-right-width")-y.rail.width:p(y.win,"border-left-width")),n=y.opt.railoffset;n&&(n.top&&(i+=n.top),y.rail.align&&n.left&&(o+=n.left)),y.locked||y.rail.css({top:i,left:o,height:t?t.h:y.win.innerHeight()}),y.zoom&&y.zoom.css({top:i+1,left:1==y.rail.align?o-20:o+y.rail.width+4}),y.railh&&!y.locked&&(i=e.top,o=e.left,t=y.railh.align?i+p(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:i+p(y.win,"border-top-width",!0),o+=p(y.win,"border-left-width"),y.railh.css({top:t,left:o,width:y.railh.width}))}},this.doRailClick=function(t,e,i){var o;y.locked||(y.cancelEvent(t),e?(e=i?y.doScrollLeft:y.doScrollTop,o=i?(t.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(t.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,e(o)):(e=i?y.doScrollLeftBy:y.doScrollBy,o=i?y.scroll.x:y.scroll.y,t=i?t.pageX-y.railh.offset().left:t.pageY-y.rail.offset().top,i=i?y.view.w:y.view.h,e(o>=t?i:-i)))},y.hasanimationframe=a,y.hascancelanimationframe=l,y.hasanimationframe?y.hascancelanimationframe||(l=function(){y.cancelAnimationFrame=!0}):(a=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},l=clearInterval),this.init=function(){if(y.saved.css=[],w.isie7mobile||w.isoperamini)return!0;if(w.hasmstouch&&y.css(y.ispage?t("html"):y.win,{"-ms-touch-action":"none"}),y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:d()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>s&&(s=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!w.cantouch&&!w.isieold&&!w.isie9mobile){var n=y.docscroll;y.ispage&&(n=y.haswrapper?y.win:y.doc),w.isie9mobile||y.css(n,{"overflow-y":"hidden"}),y.ispage&&w.isie7&&("BODY"==y.doc[0].nodeName?y.css(t("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(t("body"),{"overflow-y":"hidden"})),w.isios&&!y.ispage&&!y.haswrapper&&y.css(t("body"),{"-webkit-overflow-scrolling":"touch"});
var r=t(document.createElement("div"));r.css({position:"relative",top:0,"float":"right",width:y.opt.cursorwidth,height:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),r.hborder=parseFloat(r.outerHeight()-r.innerHeight()),y.cursor=r;var a=t(document.createElement("div"));a.attr("id",y.id),a.addClass("nicescroll-rails");var l,c,h,p=["left","right"];for(h in p)c=p[h],(l=y.opt.railpadding[c])?a.css("padding-"+c,l+"px"):y.opt.railpadding[c]=0;if(a.append(r),a.width=Math.max(parseFloat(y.opt.cursorwidth),r.outerWidth())+y.opt.railpadding.left+y.opt.railpadding.right,a.css({width:a.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==y.opt.railalign?0:1,y.rail=a,r=y.rail.drag=!1,y.opt.boxzoom&&!y.ispage&&!w.isieold&&(r=document.createElement("div"),y.bind(r,"click",y.doZoom),y.zoom=t(r),y.zoom.css({cursor:"pointer","z-index":y.zindex,backgroundImage:"url("+y.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),w.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(t){return 1.5<t.scale&&y.doZoomIn(t),.8>t.scale&&y.doZoomOut(t),y.cancelEvent(t)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1,y.opt.horizrailenabled){y.css(n,{"overflow-x":"hidden"}),r=t(document.createElement("div")),r.css({position:"relative",top:0,height:y.opt.cursorwidth,width:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),r.wborder=parseFloat(r.outerWidth()-r.innerWidth()),y.cursorh=r;var f=t(document.createElement("div"));f.attr("id",y.id+"-hr"),f.addClass("nicescroll-rails"),f.height=Math.max(parseFloat(y.opt.cursorwidth),r.outerHeight()),f.css({height:f.height+"px",zIndex:y.zindex,background:y.opt.background}),f.append(r),f.visibility=!0,f.scrollable=!0,f.align="top"==y.opt.railvalign?0:1,y.railh=f,y.railh.drag=!1}if(y.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.css(a.align?{right:"0px"}:{left:"0px"}),y.body.append(a),y.railh&&(f.css({position:"fixed",left:"0px",width:"100%"}),f.css(f.align?{bottom:"0px"}:{top:"0px"}),y.body.append(f))):(y.ishwscroll?("static"==y.win.css("position")&&y.css(y.win,{position:"relative"}),n="HTML"==y.win[0].nodeName?y.body:y.win,y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),n.append(y.zoom)),a.css({position:"absolute",top:0}),a.css(a.align?{right:0}:{left:0}),n.append(a),f&&(f.css({position:"absolute",left:0,bottom:0}),f.css(f.align?{bottom:0}:{top:0}),n.append(f))):(y.isfixed="fixed"==y.win.css("position"),n=y.isfixed?"fixed":"absolute",y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/fixed|relative|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),a.css({position:n}),y.zoom&&y.zoom.css({position:n}),y.updateScrollBar(),y.body.append(a),y.zoom&&y.body.append(y.zoom),y.railh&&(f.css({position:n}),y.body.append(f))),w.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),w.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),w.iswebkit&&y.opt.disableoutline&&y.win.css({outline:"none"})),!1===y.opt.autohidemode?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):!0===y.opt.autohidemode||"leave"===y.opt.autohidemode?(y.autohidedom=t().add(y.rail),w.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&w.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=t().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=t().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.locked=!1),w.isie9mobile)y.scrollmom=new g(y),y.onmangotouch=function(t){t=y.getScrollTop();var e=y.getScrollLeft();if(t==y.scrollmom.lastscrolly&&e==y.scrollmom.lastscrollx)return!0;var i=t-y.mangotouch.sy,o=e-y.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)))){var n=0>i?-1:1,s=0>o?-1:1,r=+new Date;y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),80<r-y.mangotouch.tm||y.mangotouch.dry!=n||y.mangotouch.drx!=s?(y.scrollmom.stop(),y.scrollmom.reset(e,t),y.mangotouch.sy=t,y.mangotouch.ly=t,y.mangotouch.sx=e,y.mangotouch.lx=e,y.mangotouch.dry=n,y.mangotouch.drx=s,y.mangotouch.tm=r):(y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-o,y.mangotouch.sy-i),y.mangotouch.tm=r,i=Math.max(Math.abs(y.mangotouch.ly-t),Math.abs(y.mangotouch.lx-e)),y.mangotouch.ly=t,y.mangotouch.lx=e,i>2&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100)))}},a=y.getScrollTop(),f=y.getScrollLeft(),y.mangotouch={sy:a,ly:a,dry:0,sx:f,lx:f,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch);else{if(w.cantouch||y.istouchcapable||y.opt.touchbehavior||w.hasmstouch){y.scrollmom=new g(y),y.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(y.hasmoving=!1,!y.locked){if(w.hasmstouch)for(var i=e.target?e.target:!1;i;){var o=t(i).getNiceScroll();if(0<o.length&&o[0].me==y.me)break;if(0<o.length)return!1;if("DIV"==i.nodeName&&i.id==y.id)break;i=i.parentNode?i.parentNode:!1}if(y.cancelScroll(),(i=y.getTarget(e))&&/INPUT/i.test(i.nodeName)&&/range/i.test(i.type))return y.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),y.forcescreen&&(o=e,e={original:e.original?e.original:e},e.clientX=o.screenX,e.clientY=o.screenY),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var o=t(window).width(),n=t(window).height(),s=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),n=Math.max(0,r-n),o=Math.max(0,s-o);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?n>0?"v":!1:y.rail.scrollable&&!y.railh.scrollable&&o>0?"h":!1,y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&w.isie&&(o=y.win.position(),y.rail.drag.x+=o.left,y.rail.drag.y+=o.top),y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(e.clientX,e.clientY),!w.cantouch&&!this.istouchcapable&&!w.hasmstouch){if(!i||!/INPUT|SELECT|TEXTAREA/i.test(i.nodeName))return!y.ispage&&w.hasmousecapture&&i.setCapture(),y.opt.touchbehavior?(i.onclick&&!i._onclick&&(i._onclick=i.onclick,i.onclick=function(t){return y.hasmoving?!1:void i._onclick.call(this,t)}),y.cancelEvent(e)):y.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(t(i).attr("type"))&&(pc={tg:i,click:!1},y.preventclick=pc)}}},y.ontouchend=function(t){return t.pointerType&&2!=t.pointerType?!1:y.rail.drag&&2==y.rail.drag.pt&&(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.lastmouseup=!0,y.hideCursor(),w.hasmousecapture&&document.releaseCapture(),!w.cantouch))?y.cancelEvent(t):void 0};var m=y.opt.touchbehavior&&y.isiframe&&!w.hasmousecapture;y.ontouchmove=function(e,i){if(e.pointerType&&2!=e.pointerType)return!1;if(y.rail.drag&&2==y.rail.drag.pt){if(w.cantouch&&"undefined"==typeof e.original)return!0;if(y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick),e=t.extend({original:e},e),"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),y.forcescreen){var o=e;e={original:e.original?e.original:e},e.clientX=o.screenX,e.clientY=o.screenY}if(o=ofy=0,m&&!i){var n=y.win.position(),o=-n.left;ofy=-n.top}var s=e.clientY+ofy,n=s-y.rail.drag.y,r=e.clientX+o,a=r-y.rail.drag.x,l=y.rail.drag.st-n;if(y.ishwscroll&&y.opt.bouncescroll?0>l?l=Math.round(l/2):l>y.page.maxh&&(l=y.page.maxh+Math.round((l-y.page.maxh)/2)):(0>l&&(s=l=0),l>y.page.maxh&&(l=y.page.maxh,s=0)),y.railh&&y.railh.scrollable){var c=y.rail.drag.sl-a;y.ishwscroll&&y.opt.bouncescroll?0>c?c=Math.round(c/2):c>y.page.maxw&&(c=y.page.maxw+Math.round((c-y.page.maxw)/2)):(0>c&&(r=c=0),c>y.page.maxw&&(c=y.page.maxw,r=0))}if(o=!1,y.rail.drag.dl)o=!0,"v"==y.rail.drag.dl?c=y.rail.drag.sl:"h"==y.rail.drag.dl&&(l=y.rail.drag.st);else{var n=Math.abs(n),a=Math.abs(a),d=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(n>d&&.3*n>=a)return y.rail.drag=!1,!0;a>d&&(y.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(a>d&&.3*a>=n)return y.rail.drag=!1,!0;n>d&&(y.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(l),y.scrollmom.update(r,s),y.railh&&y.railh.scrollable?(y.setScrollLeft(c),y.showCursor(l,c)):y.showCursor(l),w.isie10&&document.selection.clear())}),w.ischrome&&y.istouchcapable&&(o=!1),o)return y.cancelEvent(e)}}}if(y.onmousedown=function(t,e){if(!y.rail.drag||1==y.rail.drag.pt){if(y.locked)return y.cancelEvent(t);y.cancelScroll(),y.rail.drag={x:t.clientX,y:t.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!e};var i=y.getTarget(t);return!y.ispage&&w.hasmousecapture&&i.setCapture(),y.isiframe&&!w.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.hasmoving=!1,y.cancelEvent(t)}},y.onmouseup=function(t){return y.rail.drag&&(w.hasmousecapture&&document.releaseCapture(),y.isiframe&&!w.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),1==y.rail.drag.pt)?(y.rail.drag=!1,y.hasmoving&&y.triggerScrollEnd(),y.cancelEvent(t)):void 0},y.onmousemove=function(t){if(y.rail.drag&&1==y.rail.drag.pt){if(w.ischrome&&0==t.which)return y.onmouseup(t);if(y.cursorfreezed=!0,y.hasmoving=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(t.clientX-y.rail.drag.x),0>y.scroll.x&&(y.scroll.x=0);var e=y.scrollvaluemaxw;y.scroll.x>e&&(y.scroll.x=e)}else y.scroll.y=y.rail.drag.sy+(t.clientY-y.rail.drag.y),0>y.scroll.y&&(y.scroll.y=0),e=y.scrollvaluemax,y.scroll.y>e&&(y.scroll.y=e);return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(t)}},w.cantouch||y.opt.touchbehavior)y.onpreventclick=function(t){return y.preventclick?(y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(t)):void 0},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=w.isios?!1:function(t){return y.lastmouseup?(y.lastmouseup=!1,y.cancelEvent(t)):!0},y.opt.grabcursorenabled&&w.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:w.cursorgrabvalue}),y.css(y.rail,{cursor:w.cursorgrabvalue}));else{var v=function(t){if(y.selectiondrag){if(t){var e=y.win.outerHeight();t=t.pageY-y.selectiondrag.top,t>0&&e>t&&(t=0),t>=e&&(t-=e),y.selectiondrag.df=t}0!=y.selectiondrag.df&&(y.doScrollBy(2*-Math.floor(y.selectiondrag.df/6)),y.debounced("doselectionscroll",function(){v()},50))}};y.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(){y.selectiondrag=!1},y.onselectiondrag=function(t){y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){v(t)},250)}}w.hasmstouch&&(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(t){t.preventDefault()}),y.bind(y.cursor,"contextmenu",function(t){t.preventDefault()})),this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(t){y.onmousedown(t,!0)}),y.bind(y.cursorh,"mouseup",y.onmouseup)),(y.opt.cursordragontouch||!w.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){return y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(t){y.doRailClick(t,!1,!1)}),y.bind(y.rail,"dblclick",function(t){y.doRailClick(t,!0,!1)}),y.bind(y.cursor,"click",function(t){y.cancelEvent(t)}),y.bind(y.cursor,"dblclick",function(t){y.cancelEvent(t)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){return y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(t){y.doRailClick(t,!1,!0)}),y.bind(y.railh,"dblclick",function(t){y.doRailClick(t,!0,!0)}),y.bind(y.cursorh,"click",function(t){y.cancelEvent(t)}),y.bind(y.cursorh,"dblclick",function(t){y.cancelEvent(t)})))),w.cantouch||y.opt.touchbehavior?(y.bind(w.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch&&(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mousemove",y.onmousemove),y.cursorh&&y.bind(y.cursorh,"mousedown",function(t){y.onmousedown(t,!0)}),y.cursorh&&y.bind(y.cursorh,"mousemove",y.onmousemove))):(y.bind(w.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.bind(w.isie&&y.ispage?document:y.win,"mousewheel",y.onmousewheel),y.bind(y.rail,"mousewheel",y.onmousewheel),y.railh&&y.bind(y.railh,"mousewheel",y.onmousewheelhr)),!y.ispage&&!w.cantouch&&!/HTML|^BODY/.test(y.win[0].nodeName)&&(y.win.attr("tabindex")||y.win.attr({tabindex:o++}),y.jqbind(y.win,"focus",function(t){e=y.getTarget(t).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(){e=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(t){i=y.getTarget(t).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){i=!1,y.hasmousefocus=!1,y.rail.drag||y.hideCursor()}))}if(y.onkeypress=function(o){if(y.locked&&0==y.page.maxh)return!0;o=o?o:window.e;var n=y.getTarget(o);if(n&&/INPUT|TEXTAREA|SELECT|OPTION/.test(n.nodeName)&&(!n.getAttribute("type")&&!n.type||!/submit|button|cancel/i.tp)||t(n).attr("contenteditable"))return!0;if(y.hasfocus||y.hasmousefocus&&!e||y.ispage&&!e&&!i){if(n=o.keyCode,y.locked&&27!=n)return y.cancelEvent(o);var s=o.ctrlKey||!1,r=o.shiftKey||!1,a=!1;switch(n){case 38:case 63233:y.doScrollBy(72),a=!0;break;case 40:case 63235:y.doScrollBy(-72),a=!0;break;case 37:case 63232:y.railh&&(s?y.doScrollLeft(0):y.doScrollLeftBy(72),a=!0);break;case 39:case 63234:y.railh&&(s?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),a=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),a=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),a=!0;break;case 36:case 63273:y.railh&&s?y.doScrollPos(0,0):y.doScrollTo(0),a=!0;break;case 35:case 63275:y.railh&&s?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),a=!0;break;case 32:y.opt.spacebarenabled&&(y.doScrollBy(r?y.view.h:-y.view.h),a=!0);break;case 27:y.zoomactive&&(y.doZoom(),a=!0)}if(a)return y.cancelEvent(o)}},y.opt.enablekeyboard&&y.bind(document,w.isopera&&!w.isopera12?"keypress":"keydown",y.onkeypress),y.bind(document,"keydown",function(t){t.ctrlKey&&(y.wheelprevented=!0)}),y.bind(document,"keyup",function(t){t.ctrlKey||(y.wheelprevented=!1)}),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),w.ischrome&&!y.ispage&&!y.haswrapper){var b=y.win.attr("style"),a=parseFloat(y.win.css("width"))+1;y.win.css("width",a),y.synched("chromefix",function(){y.win.attr("style",b)})}y.onAttributeChange=function(){y.lazyResize(250)},!y.ispage&&!y.haswrapper&&(!1!==u?(y.observer=new u(function(t){t.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new u(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(t.removedNodes[e]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,w.isie&&!w.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),w.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(t){t.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&y.bind(y.win,"mouseup",y.lazyResize),y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var _=function(e){y.iframexd=!1;try{var i="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(o){y.iframexd=!0,i=!1}return y.iframexd?("console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:t(i),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=t(y.iframe.body)),!w.isios&&y.opt.iframeautoresize&&!y.isiframe&&(y.win.scrollTop(0),y.doc.height(""),e=Math.max(i.getElementsByTagName("html")[0].scrollHeight,i.body.scrollHeight),y.doc.height(e)),y.lazyResize(30),w.isie7&&y.css(t(y.iframe.html),{"overflow-y":"hidden"}),y.css(t(y.iframe.body),{"overflow-y":"hidden"}),w.isios&&y.haswrapper&&y.css(t(i.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(i,"scroll",y.onscroll),y.opt.enablemousewheel&&y.bind(i,"mousewheel",y.onmousewheel),y.opt.enablekeyboard&&y.bind(i,w.isopera?"keypress":"keydown",y.onkeypress),(w.cantouch||y.opt.touchbehavior)&&(y.bind(i,"mousedown",y.ontouchstart),y.bind(i,"mousemove",function(t){y.ontouchmove(t,!0)}),y.opt.grabcursorenabled&&w.cursorgrabvalue&&y.css(t(i.body),{cursor:w.cursorgrabvalue})),y.bind(i,"mouseup",y.ontouchend),void(y.zoom&&(y.opt.dblclickzoom&&y.bind(i,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(i,"gestureend",y.ongesturezoom))))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){_.call(y.doc[0],!1)},500),y.bind(this.doc,"load",_)}},this.showCursor=function(t,e){y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail&&(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||("undefined"!=typeof t&&!1!==t&&(y.scroll.y=Math.round(1*t/y.scrollratio.y)),"undefined"!=typeof e&&(y.scroll.x=Math.round(1*e/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh&&(y.cursorh.css(!y.rail.align&&y.rail.visibility?{width:y.cursorwidth,left:y.scroll.x+y.rail.width}:{width:y.cursorwidth,left:y.scroll.x}),y.cursoractive=!0),y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax}))},this.hideCursor=function(t){!y.cursortimeout&&y.rail&&y.autohidedom&&!(y.hasmousefocus&&"leave"==y.opt.autohidemode)&&(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},t||y.opt.hidecursordelay))},this.noticeCursor=function(t,e,i){y.showCursor(e,i),y.rail.active||y.hideCursor(t)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!y||!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;!y.hidden&&!y.visibility&&y.showRail().showRailHr()}var i=y.page.maxh,o=y.page.maxw,n=y.view.w;if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=e?e:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==i&&y.page.maxw==o&&y.view.w==n){if(y.ispage)return y;if(i=y.win.offset(),y.lastposition&&(o=y.lastposition,o.top==i.top&&o.left==i.left))return y;y.lastposition=i}return 0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail.scrollable=!1):y.rail.scrollable=!0,0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh.scrollable=!1):y.railh.scrollable=!0,y.locked=0==y.page.maxh&&0==y.page.maxw,y.locked?(y.ispage||y.updateScrollBar(y.view),!1):(y.hidden||y.visibility?!y.hidden&&!y.railh.visibility&&y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h*(y.view.h/y.page.h))),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w*(y.view.w/y.page.w))),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder,y.railh&&(y.railh.width=0<y.page.maxh?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax},y.getScrollTop()>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y)},this.resize=y.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,y.delayed("resize",y.resize,t),y},this._bind=function(t,e,i,o){y.events.push({e:t,n:e,f:i,b:o,q:!1}),t.addEventListener?t.addEventListener(e,i,o||!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},this.jqbind=function(e,i,o){y.events.push({e:e,n:i,f:o,q:!0}),t(e).bind(i,o)},this.bind=function(t,e,i,o){var n="jquery"in t?t[0]:t;"mousewheel"==e?"onwheel"in y.win?y._bind(n,"wheel",i,o||!1):(t="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",m(n,t,i,o||!1),"DOMMouseScroll"==t&&m(n,"MozMousePixelScroll",i,o||!1)):n.addEventListener?(w.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&y._bind(n,"mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",function(t){if(t.touches){if(2>t.touches.length){var e=t.touches.length?t.touches[0]:t;e.original=t,i.call(this,e)}}else t.changedTouches&&(e=t.changedTouches[0],e.original=t,i.call(this,e))},o||!1),y._bind(n,e,i,o||!1),w.cantouch&&"mouseup"==e&&y._bind(n,"touchcancel",i,o||!1)):y._bind(n,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1===i.call(n,t)||!1===o?y.cancelEvent(t):!0})},this._unbind=function(t,e,i,o){t.removeEventListener?t.removeEventListener(e,i,o):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=!1},this.unbindAll=function(){for(var t=0;t<y.events.length;t++){var e=y.events[t];e.q?e.e.unbind(e.n,e.f):y._unbind(e.e,e.n,e.f,e.b)}},this.cancelEvent=function(t){return(t=t.original?t.original:t?t:window.event||!1)?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1):!1},this.stopPropagation=function(t){return(t=t.original?t.original:t?t:window.event||!1)?t.stopPropagation?t.stopPropagation():(t.cancelBubble&&(t.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.locked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.locked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout),y.doZoomOut(),y.unbindAll(),w.isie9&&y.win[0].detachEvent("onpropertychange",y.onAttributeChange),!1!==y.observer&&y.observer.disconnect(),!1!==y.observerremover&&y.observerremover.disconnect(),y.events=null,y.cursor&&y.cursor.remove(),y.cursorh&&y.cursorh.remove(),y.rail&&y.rail.remove(),y.railh&&y.railh.remove(),y.zoom&&y.zoom.remove();for(var e=0;e<y.saved.css.length;e++){var i=y.saved.css[e];i[0].css(i[1],"undefined"==typeof i[2]?"":i[2])}y.saved=!1,y.me.data("__nicescroll","");var o=t.nicescroll;o.each(function(t){if(this&&this.id===y.id){delete o[t];for(var e=++t;e<o.length;e++,t++)o[t]=o[e];o.length--,o.length&&delete o[o.length]}});for(var n in y)y[n]=null,delete y[n];y=null},this.scrollstart=function(t){return this.onscrollstart=t,y},this.scrollend=function(t){return this.onscrollend=t,y},this.scrollcancel=function(t){return this.onscrollcancel=t,y},this.zoomin=function(t){return this.onzoomin=t,y},this.zoomout=function(t){return this.onzoomout=t,y},this.isScrollable=function(e){if(e=e.target?e.target:e,"OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=t(e),i=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(i))return e.clientHeight!=e.scrollHeight;e=e.parentNode?e.parentNode:!1}return!1},this.getViewport=function(e){for(e=e&&e.parentNode?e.parentNode:!1;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=t(e);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&e.clientHeight!=e.scrollHeight||0<i.getNiceScroll().length)return i;e=e.parentNode?e.parentNode:!1}return e?t(e):!1},this.triggerScrollEnd=function(){if(y.onscrollend){var t=y.getScrollLeft(),e=y.getScrollTop();y.onscrollend.call(y,{type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}})}},this.onmousewheel=function(t){if(!y.wheelprevented){if(y.locked)return y.debounced("checkunlock",y.resize,250),!0;if(y.rail.drag)return y.cancelEvent(t);if("auto"==y.opt.oneaxismousemode&&0!=t.deltaX&&(y.opt.oneaxismousemode=!1),y.opt.oneaxismousemode&&0==t.deltaX&&!y.rail.scrollable)return y.railh&&y.railh.scrollable?y.onmousewheelhr(t):!0;var e=+new Date,i=!1;return y.opt.preservenativescrolling&&y.checkarea+600<e&&(y.nativescrollingarea=y.isScrollable(t),i=!0),y.checkarea=e,y.nativescrollingarea?!0:((t=v(t,!1,i))&&(y.checkarea=0),t)}},this.onmousewheelhr=function(t){if(!y.wheelprevented){if(y.locked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(t);var e=+new Date,i=!1;return y.opt.preservenativescrolling&&y.checkarea+600<e&&(y.nativescrollingarea=y.isScrollable(t),i=!0),y.checkarea=e,y.nativescrollingarea?!0:y.locked?y.cancelEvent(t):v(t,!0,i)}},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(t){var e=Math.round(10*y.opt.scrollspeed);return t=Math.min(e,Math.round(t/20*y.opt.scrollspeed)),t>20?t:0},y.opt.smoothscroll?y.ishwscroll&&w.hastransition&&y.opt.usetransition?(this.prepareTransition=function(t,e){var i=e?t>20?t:0:y.getTransitionSpeed(t),o=i?w.prefixstyle+"transform "+i+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==o||(y.lasttransitionstyle=o,y.doc.css(w.transitionstyle,o)),i},this.doScrollLeft=function(t,e){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=y.getScrollTop(),n=y.getScrollLeft();return(0>(y.newscrolly-o)*(e-o)||0>(y.newscrollx-n)*(t-n))&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw)),y.scrollrunning&&t==y.newscrollx&&e==y.newscrolly?!1:(y.newscrolly=e,y.newscrollx=t,y.newscrollspeed=i||!1,y.timer?!1:void(y.timer=setTimeout(function(){var i,o,n=y.getScrollTop(),s=y.getScrollLeft();i=t-s,o=e-n,i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(o,2))),i=y.newscrollspeed&&1<y.newscrollspeed?y.newscrollspeed:y.getTransitionSpeed(i),y.newscrollspeed&&1>=y.newscrollspeed&&(i*=y.newscrollspeed),y.prepareTransition(i,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),i>0&&(!y.scrollrunning&&y.onscrollstart&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:s,y:n},request:{x:t,y:e},end:{x:y.newscrollx,y:y.newscrolly},speed:i}),w.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,w.transitionend,y.onScrollTransitionEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollTransitionEnd,i)),y.timerscroll={bz:new BezierClass(n,y.newscrolly,i,0,0,.58,1),bh:new BezierClass(s,y.newscrollx,i,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))),y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var t=y.getScrollTop(),e=y.getScrollLeft();return y.scrollrunning=!1,w.transitionend||clearTimeout(w.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc,w.transitionend,y.onScrollTransitionEnd),y.prepareTransition(0),y.setScrollTop(t),y.railh&&y.setScrollLeft(e),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(t,e),y
},this.onScrollTransitionEnd=function(){y.scrollendtrapped&&y._unbind(y.doc,w.transitionend,y.onScrollTransitionEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var t=y.getScrollTop(),e=y.getScrollLeft();return y.setScrollTop(t),y.railh&&y.setScrollLeft(e),y.noticeCursor(!1,t,e),y.cursorfreezed=!1,0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw),t!=y.newscrolly||e!=y.newscrollx?y.doScrollPos(e,t,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.triggerScrollEnd(),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){function o(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,u=1-u)return y.timer=a(o)||1;var t=0,e=sy=y.getScrollTop();if(y.dst.ay){var e=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly,i=e-sy;(0>i&&e<y.newscrolly||i>0&&e>y.newscrolly)&&(e=y.newscrolly),y.setScrollTop(e),e==y.newscrolly&&(t=1)}else t=1;var n=sx=y.getScrollLeft();y.dst.ax?(n=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx,i=n-sx,(0>i&&n<y.newscrollx||i>0&&n>y.newscrollx)&&(n=y.newscrollx),y.setScrollLeft(n),n==y.newscrollx&&(t+=1)):t+=1,2==t?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>n?n=0:n>y.page.maxw&&(n=y.page.maxw),n!=y.newscrollx||e!=y.newscrolly?y.doScrollPos(n,e):y.onscrollend&&y.triggerScrollEnd()):y.timer=a(o)||1}if(e="undefined"==typeof e||!1===e?y.getScrollTop(!0):e,y.timer&&y.newscrolly==e&&y.newscrollx==t)return!0;y.timer&&l(y.timer),y.timer=0;var n=y.getScrollTop(),s=y.getScrollLeft();(0>(y.newscrolly-n)*(e-n)||0>(y.newscrollx-s)*(t-s))&&y.cancelScroll(),y.newscrolly=e,y.newscrollx=t,y.bouncescroll&&y.rail.visibility||(0>y.newscrolly?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(0>y.newscrollx?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=t-s,y.dst.y=e-n,y.dst.px=s,y.dst.py=n;var r=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/r,y.dst.ay=y.dst.y/r;var c=0,d=r;if(0==y.dst.x?(c=n,d=e,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(c=s,d=t,y.dst.ax=1,y.dst.px=0),r=y.getTransitionSpeed(r),i&&1>=i&&(r*=i),y.bzscroll=r>0?y.bzscroll?y.bzscroll.update(d,r):new BezierClass(c,d,r,0,1,0,1):!1,!y.timer){(n==y.page.maxh&&e>=y.page.maxh||s==y.page.maxw&&t>=y.page.maxw)&&y.checkContentSize();var u=1;y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:s,y:n},request:{x:t,y:e},end:{x:y.newscrollx,y:y.newscrolly},speed:r}),o(),(n==y.page.maxh&&e>=n||s==y.page.maxw&&t>=s)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&l(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(t,e){var i=y.getScrollTop();y.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=y.getScrollLeft();y.doScrollPos(i,t,e)},this.doScrollPos=function(t,e){var i=t>y.page.maxw?y.page.maxw:t;0>i&&(i=0);var o=e>y.page.maxh?y.page.maxh:e;0>o&&(o=0),y.synched("scroll",function(){y.setScrollTop(o),y.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var i=0,i=e?Math.floor((y.scroll.y-t)*y.scrollratio.y):(y.timer?y.newscrolly:y.getScrollTop(!0))-t;if(y.bouncescroll){var o=Math.round(y.view.h/2);-o>i?i=-o:i>y.page.maxh+o&&(i=y.page.maxh+o)}return y.cursorfreezed=!1,py=y.getScrollTop(!0),0>i&&0>=py?y.noticeCursor():i>y.page.maxh&&py>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(i)},this.doScrollLeftBy=function(t,e){var i=0,i=e?Math.floor((y.scroll.x-t)*y.scrollratio.x):(y.timer?y.newscrollx:y.getScrollLeft(!0))-t;if(y.bouncescroll){var o=Math.round(y.view.w/2);-o>i?i=-o:i>y.page.maxw+o&&(i=y.page.maxw+o)}return y.cursorfreezed=!1,px=y.getScrollLeft(!0),0>i&&0>=px||i>y.page.maxw&&px>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(i)},this.doScrollTo=function(t,e){e&&Math.round(t*y.scrollratio.y),y.cursorfreezed=!1,y.doScrollTop(t)},this.checkContentSize=function(){var t=y.getContentSize();(t.h!=y.page.h||t.w!=y.page.w)&&y.resize(!1,t)},y.onscroll=function(){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(e){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var i,o="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),n=y.win[0].style;for(i in o){var r=o[i];y.zoomrestore.style[r]="undefined"!=typeof n[r]?n[r]:""}return y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},w.isios4&&(y.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),y.win.css({position:w.isios4?"absolute":"fixed",top:0,left:0,"z-index":s+100,margin:"0px"}),o=y.win.css("backgroundColor"),(""==o||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(o))&&y.win.css("backgroundColor","#fff"),y.rail.css({"z-index":s+101}),y.zoom.css({"z-index":s+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),y.cancelEvent(e)}},this.doZoomOut=function(e){return y.zoomactive?(y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),w.isios4&&t(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(e)):void 0},this.doZoom=function(t){return y.zoomactive?y.doZoomOut(t):y.doZoomIn(t)},this.resizeZoom=function(){if(y.zoomactive){var e=y.getScrollTop();y.win.css({width:t(window).width()-y.zoomrestore.padding.w+"px",height:t(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,e))}},this.init(),t.nicescroll.push(this)},g=function(t){var e=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,i){e.stop();var o=e.time();e.steptime=0,e.lasttime=o,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var o=e.time();e.steptime=o-e.lasttime,e.lasttime=o;var o=i-e.lasty,n=t-e.lastx,s=e.nc.getScrollTop(),r=e.nc.getScrollLeft(),s=s+o,r=r+n;e.snapx=0>r||r>e.nc.page.maxw,e.snapy=0>s||s>e.nc.page.maxh,e.speedx=n,e.speedy=o,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var o=!1;0>i?(i=0,o=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,o=!0),0>t?(t=0,o=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,o=!0),o?e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var i=e.time(),o=t?i+t:e.lasttime;t=e.nc.getScrollLeft();var n=e.nc.getScrollTop(),s=e.nc.page.maxh,r=e.nc.page.maxw;if(e.speedx=r>0?Math.min(60,e.speedx):0,e.speedy=s>0?Math.min(60,e.speedy):0,o=o&&60>=i-o,(0>n||n>s||0>t||t>r)&&(o=!1),t=e.speedx&&o?e.speedx:!1,e.speedy&&o&&e.speedy||t){var a=Math.max(16,e.steptime);a>50&&(t=a/50,e.speedx*=t,e.speedy*=t,a=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var l=e.lastscrollx,c=e.lastscrolly,d=function(){var t=600<e.time()-i?.04:.02;e.speedx&&(l=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=l,0>l||l>r)&&(t=.1),e.speedy&&(c=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=c,0>c||c>s)&&(t=.1),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=l,e.nc.setScrollLeft(l)),e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=c,e.nc.setScrollTop(c)),e.timer||(e.nc.hideCursor(),e.doSnapy(l,c))}),1>e.demulxy?e.timer=setTimeout(d,a):(e.stop(),e.nc.hideCursor(),e.doSnapy(l,c))};d()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},v=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(e,i){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollTop():v.call(e)},set:function(e,i){var o=t.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(i)):v.call(e,i),this}},t.fn.scrollTop=function(e){if("undefined"==typeof e){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollTop():v.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollTop(parseInt(e)):v.call(t(this),e)})};var y=t.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(e,i){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollLeft():y.call(e)},set:function(e,i){var o=t.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(i)):y.call(e,i),this}},t.fn.scrollLeft=function(e){if("undefined"==typeof e){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollLeft():y.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):y.call(t(this),e)})};var b=function(e){var i=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0,o=0;e<i.length;e++)t.call(i[e],o++);return i},this.push=function(t){i[i.length]=t,i.length++},this.eq=function(t){return i[t]},e)for(var o=0;o<e.length;o++){var n=t.data(e[o],"__nicescroll")||!1;n&&(this[this.length]=n,this.length++)}return this};!function(t,e,i){for(var o=0;o<e.length;o++)i(t,e[o])}(b.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(e){return"undefined"==typeof e?new b(this):this[e]&&t.data(this[e],"__nicescroll")||!1},t.extend(t.expr[":"],{nicescroll:function(e){return t.data(e,"__nicescroll")?!0:!1}}),t.fn.niceScroll=function(e,i){"undefined"==typeof i&&"object"==typeof e&&!("jquery"in e)&&(i=e,e=!1);var o=new b;"undefined"==typeof i&&(i={}),e&&(i.doc=t(e),i.win=t(this));var n=!("doc"in i);return!n&&!("win"in i)&&(i.win=t(this)),this.each(function(){var e=t(this).data("__nicescroll")||!1;e||(i.doc=n?t(this):i.doc,e=new m(i,t(this)),t(this).data("__nicescroll",e)),o.push(e)}),1==o.length?o[0]:o},window.NiceScroll={getjQuery:function(){return t}},t.nicescroll||(t.nicescroll=new b,t.nicescroll.options=h)});!function(t,e,i){function o(t){var e={},o=/^jQuery\d+$/;return i.each(t.attributes,function(t,i){i.specified&&!o.test(i.name)&&(e[i.name]=i.value)}),e}function n(t,e){var o=this,n=i(o);if(o.value==n.attr("placeholder")&&n.hasClass("placeholder"))if(n.data("placeholder-password")){if(n=n.hide().next().show().attr("id",n.removeAttr("id").data("placeholder-id")),t===!0)return n[0].value=e;n.focus()}else o.value="",n.removeClass("placeholder"),o==r()&&o.select()}function s(){var t,e=this,s=i(e),r=this.id;if(""==e.value){if("password"==e.type){if(!s.data("placeholder-textinput")){try{t=s.clone().attr({type:"text"})}catch(a){t=i("<input>").attr(i.extend(o(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":s,"placeholder-id":r}).bind("focus.placeholder",n),s.data({"placeholder-textinput":t,"placeholder-id":r}).before(t)}s=s.removeAttr("id").hide().prev().attr("id",r).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}function r(){try{return e.activeElement}catch(t){}}var a,l,c="placeholder"in e.createElement("input"),d="placeholder"in e.createElement("textarea"),u=i.fn,h=i.valHooks,p=i.propHooks;c&&d?(l=u.placeholder=function(){return this},l.input=l.textarea=!0):(l=u.placeholder=function(){var t=this;return t.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":n,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},l.input=c,l.textarea=d,a={get:function(t){var e=i(t),o=e.data("placeholder-password");return o?o[0].value:e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,e){var o=i(t),a=o.data("placeholder-password");return a?a[0].value=e:o.data("placeholder-enabled")?(""==e?(t.value=e,t!=r()&&s.call(t)):o.hasClass("placeholder")?n.call(t,!0,e)||(t.value=e):t.value=e,o):t.value=e}},c||(h.input=a,p.value=a),d||(h.textarea=a,p.value=a),i(function(){i(e).delegate("form","submit.placeholder",function(){var t=i(".placeholder",this).each(n);setTimeout(function(){t.each(s)},10)})}),i(t).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(t,e){var i={ratio:16/9,videoId:"ZCAnLxRvNNc",mute:!0,repeat:!0,width:t(e).width(),wrapperZIndex:99,playButtonClass:"tubular-play",pauseButtonClass:"tubular-pause",muteButtonClass:"tubular-mute",volumeUpClass:"tubular-volume-up",volumeDownClass:"tubular-volume-down",increaseVolumeBy:10,start:0},o=function(o,n){var n=t.extend({},i,n),s=t("body");$node=t(o);var r='<div id="tubular-container" style="overflow: hidden; position: fixed; z-index: 1; width: 100%; height: 100%"><div id="tubular-player" style="position: absolute"></div></div><div id="tubular-shield" style="width: 100%; height: 100%; z-index: 2; position: absolute; left: 0; top: 0;"></div>';t("html,body").css({width:"100%",height:"100%"}),s.prepend(r),$node.css({position:"relative","z-index":n.wrapperZIndex}),e.player,e.onYouTubeIframeAPIReady=function(){player=new YT.Player("tubular-player",{width:n.width,height:Math.ceil(n.width/n.ratio),videoId:n.videoId,playerVars:{controls:0,showinfo:0,modestbranding:1,wmode:"transparent"},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})},e.onPlayerReady=function(t){a(),n.mute&&t.target.mute(),t.target.seekTo(n.start),t.target.playVideo()},e.onPlayerStateChange=function(t){0===t.data&&n.repeat&&player.seekTo(n.start)};var a=function(){var i,o,s=t(e).width(),r=t(e).height(),a=t("#tubular-player");s/n.ratio<r?(i=Math.ceil(r*n.ratio),a.width(i).height(r).css({left:(s-i)/2,top:0})):(o=Math.ceil(s/n.ratio),a.width(s).height(o).css({left:0,top:(r-o)/2}))};t(e).on("resize.tubular",function(){a()}),t("body").on("click","."+n.playButtonClass,function(t){t.preventDefault(),player.playVideo()}).on("click","."+n.pauseButtonClass,function(t){t.preventDefault(),player.pauseVideo()}).on("click","."+n.muteButtonClass,function(t){t.preventDefault(),player.isMuted()?player.unMute():player.mute()}).on("click","."+n.volumeDownClass,function(t){t.preventDefault();var e=player.getVolume();e<n.increaseVolumeBy&&(e=n.increaseVolumeBy),player.setVolume(e-n.increaseVolumeBy)}).on("click","."+n.volumeUpClass,function(t){t.preventDefault(),player.isMuted()&&player.unMute();var e=player.getVolume();e>100-n.increaseVolumeBy&&(e=100-n.increaseVolumeBy),player.setVolume(e+n.increaseVolumeBy)})},n=document.createElement("script");n.src="//www.youtube.com/iframe_api";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s),t.fn.tubular=function(e){return this.each(function(){t.data(this,"tubular_instantiated")||t.data(this,"tubular_instantiated",o(this,e))})}}(jQuery,window),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,o,n){return jQuery.easing[jQuery.easing.def](t,e,i,o,n)},easeInQuad:function(t,e,i,o,n){return o*(e/=n)*e+i},easeOutQuad:function(t,e,i,o,n){return-o*(e/=n)*(e-2)+i},easeInOutQuad:function(t,e,i,o,n){return(e/=n/2)<1?o/2*e*e+i:-o/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,o,n){return o*(e/=n)*e*e+i},easeOutCubic:function(t,e,i,o,n){return o*((e=e/n-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,o,n){return(e/=n/2)<1?o/2*e*e*e+i:o/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,o,n){return o*(e/=n)*e*e*e+i},easeOutQuart:function(t,e,i,o,n){return-o*((e=e/n-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,o,n){return(e/=n/2)<1?o/2*e*e*e*e+i:-o/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,o,n){return o*(e/=n)*e*e*e*e+i},easeOutQuint:function(t,e,i,o,n){return o*((e=e/n-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,o,n){return(e/=n/2)<1?o/2*e*e*e*e*e+i:o/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,o,n){return-o*Math.cos(e/n*(Math.PI/2))+o+i},easeOutSine:function(t,e,i,o,n){return o*Math.sin(e/n*(Math.PI/2))+i},easeInOutSine:function(t,e,i,o,n){return-o/2*(Math.cos(Math.PI*e/n)-1)+i},easeInExpo:function(t,e,i,o,n){return 0==e?i:o*Math.pow(2,10*(e/n-1))+i},easeOutExpo:function(t,e,i,o,n){return e==n?i+o:o*(-Math.pow(2,-10*e/n)+1)+i},easeInOutExpo:function(t,e,i,o,n){return 0==e?i:e==n?i+o:(e/=n/2)<1?o/2*Math.pow(2,10*(e-1))+i:o/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,o,n){return-o*(Math.sqrt(1-(e/=n)*e)-1)+i},easeOutCirc:function(t,e,i,o,n){return o*Math.sqrt(1-(e=e/n-1)*e)+i},easeInOutCirc:function(t,e,i,o,n){return(e/=n/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+i:o/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,o,n){var s=1.70158,r=0,a=o;if(0==e)return i;if(1==(e/=n))return i+o;if(r||(r=.3*n),a<Math.abs(o)){a=o;var s=r/4}else var s=r/(2*Math.PI)*Math.asin(o/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-s)*Math.PI/r))+i},easeOutElastic:function(t,e,i,o,n){var s=1.70158,r=0,a=o;if(0==e)return i;if(1==(e/=n))return i+o;if(r||(r=.3*n),a<Math.abs(o)){a=o;var s=r/4}else var s=r/(2*Math.PI)*Math.asin(o/a);return a*Math.pow(2,-10*e)*Math.sin(2*(e*n-s)*Math.PI/r)+o+i},easeInOutElastic:function(t,e,i,o,n){var s=1.70158,r=0,a=o;if(0==e)return i;if(2==(e/=n/2))return i+o;if(r||(r=.3*n*1.5),a<Math.abs(o)){a=o;var s=r/4}else var s=r/(2*Math.PI)*Math.asin(o/a);return 1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-s)*Math.PI/r)+i:a*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*n-s)*Math.PI/r)*.5+o+i},easeInBack:function(t,e,i,o,n,s){return void 0==s&&(s=1.70158),o*(e/=n)*e*((s+1)*e-s)+i},easeOutBack:function(t,e,i,o,n,s){return void 0==s&&(s=1.70158),o*((e=e/n-1)*e*((s+1)*e+s)+1)+i},easeInOutBack:function(t,e,i,o,n,s){return void 0==s&&(s=1.70158),(e/=n/2)<1?o/2*e*e*(((s*=1.525)+1)*e-s)+i:o/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+i},easeInBounce:function(t,e,i,o,n){return o-jQuery.easing.easeOutBounce(t,n-e,0,o,n)+i},easeOutBounce:function(t,e,i,o,n){return(e/=n)<1/2.75?7.5625*o*e*e+i:2/2.75>e?o*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?o*(7.5625*(e-=2.25/2.75)*e+.9375)+i:o*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,o,n){return n/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,o,n)+i:.5*jQuery.easing.easeOutBounce(t,2*e-n,0,o,n)+.5*o+i}});var Slider=function(t){var e=t("#ps-container"),i=e.children("div.ps-contentwrapper"),o=i.children("div.ps-content"),n=o.length,s=e.children("div.ps-slidewrapper"),r=s.find("div.ps-slides"),a=r.children("div"),l=s.find("nav > a.ps-prev"),c=s.find("nav > a.ps-next"),d=0,u=!1,h=Modernizr.csstransitions,p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},f=p[Modernizr.prefixed("transition")],m=function(){var t=o.eq(d),e=a.eq(d),i={top:0,zIndex:999};t.css(i),e.css(i),g(),v()},g=function(){var t=d>0?a.eq(d-1).css("background-image"):a.eq(n-1).css("background-image"),e=n-1>d?a.eq(d+1).css("background-image"):a.eq(0).css("background-image");l.css("background-image",t),c.css("background-image",e)},v=function(){l.on("click",function(){return u||b("prev"),!1}),c.on("click",function(){return u||b("next"),!1}),o.on(f,y),a.on(f,y)},y=function(){u=!1,t(this).removeClass("ps-move")},b=function(t){u=!0;var e=o.eq(d),i=a.eq(d);"next"===t?n-1>d?++d:d=0:"prev"===t&&(d>0?--d:d=n-1);var s=o.eq(d),r=a.eq(d);s.css({top:"next"===t?"-100%":"100%",zIndex:999}),r.css({top:"next"===t?"100%":"-100%",zIndex:999}),setTimeout(function(){e.addClass("ps-move").css({top:"next"===t?"100%":"-100%",zIndex:1}),i.addClass("ps-move").css({top:"next"===t?"-100%":"100%",zIndex:1}),s.addClass("ps-move").css("top",0),r.addClass("ps-move").css("top",0),h||(u=!1)},0),g()};return{init:m}}(jQuery);jQuery(document).ready(function(t){var e;t(".section-block.primary").height(t(window).height()),t(window).resize(function(){clearTimeout(e),e=setTimeout(function(){t(".section-block.primary").height(t(window).height())},250)}),t(window).scroll(function(){t(this).scrollTop()>t(window).height()?t(".scroll-top").fadeIn("slow"):t(".scroll-top").fadeOut("slow")}),t(".scroll-top").click(function(e){e.preventDefault(),t.scrollTo("#masthead",{axis:"y",duration:800})}),t(window).load(function(){t("html").niceScroll({horizrailenabled:!1,zindex:99999,cursorwidth:"7px",cursorborderradius:"7px",mousescrollstep:"40"}),t("body").css("overflow","visible"),t("input, textarea").placeholder(),t("a[rel^='prettyPhoto']").prettyPhoto({social_tools:""}),t(".parallax").get(0)&&t.stellar({responsive:!0,horizontalScrolling:!1}),jQuery("ul.products + div.slider-loading").hide(),jQuery(".row-container div.slider-loading").hide(),t(".one-template").length&&(t.localScroll({axis:"y",duration:800}),setTimeout(function(){t.scrollTo(window.location.hash,{axis:"y",duration:800})},500)),function(){var e,i,o=t("#site-navigation");if(o&&(e=o.find(".menu-toggle")))return i=o.find("#main-menu"),i&&i.children().length?void t(".menu-toggle").on("click.trego",function(t){t.stopPropagation(),o.toggleClass("toggled-on")}):void e.hide()}(),t(".menu-cart, .cart-product-list, .products-popup").click(function(t){t.stopPropagation()});var e="",i="",o="",n=0;t("ul.special-menu-items li a, div.show-popup a, div.title-tabs a").click(function(s){s.stopPropagation();var r=t(this).attr("href")+"_popup",a=t(this).attr("data-name");t(".special-products-overlay").addClass("active"),t(".special-products-overlay .popup-label .title").text(a),t(".products-content-area").animate({scrollTop:0},0),t(".products-popup .slider-loading").show(),t(".title-tabs a").removeClass("selected"),t("ul.special-menu-items li a").removeClass("selected"),t(this).addClass("selected"),n=0;var l="";if("#latest_products"==t(this).attr("href")?(l=e,t(".title-tabs .tab-latest").addClass("selected")):"#featured_products"==t(this).attr("href")?(l=i,t(".title-tabs .tab-featured").addClass("selected")):"#sale_products"==t(this).attr("href")&&(l=o,t(".title-tabs .tab-sale").addClass("selected")),""==l){var c={action:"special_products",chk:r};t.post(ajax_url,c,function(n){"#latest_products_popup"==r?e=n:"#featured_products_popup"==r?i=n:"#sale_products_popup"==r&&(o=n),t(".products-popup .products-content-area").html(n),t(".products-popup .slider-loading").fadeOut(1e3)})}else t(".products-popup .products-content-area").html(l),t(".products-popup .slider-loading").fadeOut(1e3)}),t("#prev-btn").click(function(){n-=t(".popup-content").height(),0>n&&(n=0),t(".products-content-area").animate({scrollTop:n},500)}),t("#next-btn").on("click",function(){t(".popup-content ul.products").height()-n<t(".popup-content").height()+100||(n+=t(".popup-content").height(),t(".products-content-area").animate({scrollTop:n},500))}),t(".products-popup .close").click(function(){t(".special-products-overlay").removeClass("active"),t("ul.special-menu-items li a").removeClass("selected")}),t("html").click(function(){t(".menu-cart").hide(),t(".special-products-overlay").removeClass("active"),t("ul.special-menu-items li a").removeClass("selected")}),t(".banner .inner-box.animated").waypoint(function(){if(!t(this).parent().parent().parent().hasClass("bxslider")){var e=t(this).attr("data-animate");t(this).addClass(e)}},{offset:"80%"}),t("div.progress-bar .progress-value").waypoint(function(){t(this).css("width",t(this).attr("data-progress-animate")+"%")},{offset:"80%"}),t(".ico-block.animated").waypoint(function(){t(this).addClass(t(this).attr("data-icon-animate"))},{offset:"80%"}),t(".banner .inner-box.animation-group").waypoint(function(){if(!t(this).parent().parent().parent().hasClass("bxslider")){var e=t(this);e.find(".animation").each(function(){var i=t(this).attr("data-easing"),o="delay-"+t(this).attr("data-start");void 0!==i&&e.css("overflow","visible"),t(this).addClass(i),t(this).addClass(o)})}},{offset:"80%"})})}),function(t){theme={_init:function(){api.options.slide_links&&t(vars.slide_list).css("margin-left",-t(vars.slide_list).width()/2),api.options.autoplay?api.options.progress_bar&&theme.progressBar():(t(vars.play_button).attr("src")&&t(vars.play_button).attr("src",vars.image_path+"play.png"),api.options.progress_bar&&t(vars.progress_bar).stop().css({left:-t(window).width()})),t(vars.tray_button).toggle(function(){return t(vars.thumb_tray).stop().animate({bottom:0,avoidTransforms:!0},300),t(vars.tray_arrow).attr("src")&&t(vars.tray_arrow).attr("src",vars.image_path+"button-tray-down.png"),!1},function(){return t(vars.thumb_tray).stop().animate({bottom:-t(vars.thumb_tray).height(),avoidTransforms:!0},300),t(vars.tray_arrow).attr("src")&&t(vars.tray_arrow).attr("src",vars.image_path+"button-tray-up.png"),!1}),t(vars.thumb_list).width(t("> li",vars.thumb_list).length*t("> li",vars.thumb_list).outerWidth(!0)),t(vars.slide_total).length&&t(vars.slide_total).html(api.options.slides.length),api.options.thumb_links&&(t(vars.thumb_list).width()<=t(vars.thumb_tray).width()&&t(vars.thumb_back+","+vars.thumb_forward).fadeOut(0),vars.thumb_interval=Math.floor(t(vars.thumb_tray).width()/t("> li",vars.thumb_list).outerWidth(!0))*t("> li",vars.thumb_list).outerWidth(!0),vars.thumb_page=0,t(vars.thumb_forward).click(function(){vars.thumb_page-vars.thumb_interval<=-t(vars.thumb_list).width()?(vars.thumb_page=0,t(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})):(vars.thumb_page=vars.thumb_page-vars.thumb_interval,t(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"}))}),t(vars.thumb_back).click(function(){vars.thumb_page+vars.thumb_interval>0?(vars.thumb_page=Math.floor(t(vars.thumb_list).width()/vars.thumb_interval)*-vars.thumb_interval,t(vars.thumb_list).width()<=-vars.thumb_page&&(vars.thumb_page=vars.thumb_page+vars.thumb_interval),t(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})):(vars.thumb_page=vars.thumb_page+vars.thumb_interval,t(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"}))})),t(vars.next_slide).click(function(){api.nextSlide()}),t(vars.prev_slide).click(function(){api.prevSlide()}),jQuery.support.opacity&&t(vars.prev_slide+","+vars.next_slide).mouseover(function(){t(this).stop().animate({opacity:1},100)}).mouseout(function(){t(this).stop().animate({opacity:.6},100)}),api.options.thumbnail_navigation&&(t(vars.next_thumb).click(function(){api.nextSlide()}),t(vars.prev_thumb).click(function(){api.prevSlide()})),t(vars.play_button).click(function(){api.playToggle()}),api.options.mouse_scrub&&t(vars.thumb_tray).mousemove(function(e){var i=t(vars.thumb_tray).width(),o=t(vars.thumb_list).width();if(o>i){var n=1,s=e.pageX-n;(s>10||-10>s)&&(n=e.pageX,newX=(i-o)*(e.pageX/i),s=parseInt(Math.abs(parseInt(t(vars.thumb_list).css("left"))-newX)).toFixed(0),t(vars.thumb_list).stop().animate({left:newX},{duration:3*s,easing:"easeOutExpo"}))}}),t(window).resize(function(){api.options.progress_bar&&!vars.in_animation&&(vars.slideshow_interval&&clearInterval(vars.slideshow_interval),api.options.slides.length-1>0&&clearInterval(vars.slideshow_interval),t(vars.progress_bar).stop().css({left:-t(window).width()}),!vars.progressDelay&&api.options.slideshow&&(vars.progressDelay=setTimeout(function(){vars.is_paused||(theme.progressBar(),vars.slideshow_interval=setInterval(api.nextSlide,api.options.slide_interval)),vars.progressDelay=!1},1e3))),api.options.thumb_links&&vars.thumb_tray.length&&(vars.thumb_page=0,vars.thumb_interval=Math.floor(t(vars.thumb_tray).width()/t("> li",vars.thumb_list).outerWidth(!0))*t("> li",vars.thumb_list).outerWidth(!0),t(vars.thumb_list).width()>t(vars.thumb_tray).width()?(t(vars.thumb_back+","+vars.thumb_forward).fadeIn("fast"),t(vars.thumb_list).stop().animate({left:0},200)):t(vars.thumb_back+","+vars.thumb_forward).fadeOut("fast"))})},goTo:function(){api.options.progress_bar&&!vars.is_paused&&(t(vars.progress_bar).stop().css({left:-t(window).width()}),theme.progressBar())},playToggle:function(e){"play"==e?(t(vars.play_button).attr("src")&&t(vars.play_button).attr("src",vars.image_path+"pause.png"),api.options.progress_bar&&!vars.is_paused&&theme.progressBar()):"pause"==e&&(t(vars.play_button).attr("src")&&t(vars.play_button).attr("src",vars.image_path+"play.png"),api.options.progress_bar&&vars.is_paused&&t(vars.progress_bar).stop().css({left:-t(window).width()}))},beforeAnimation:function(e){if(api.options.progress_bar&&!vars.is_paused&&t(vars.progress_bar).stop().css({left:-t(window).width()}),t(vars.slide_caption).length&&t(vars.slide_caption).html(api.getField("title")?api.getField("title"):""),vars.slide_current.length&&t(vars.slide_current).html(vars.current_slide+1),api.options.thumb_links&&(t(".current-thumb").removeClass("current-thumb"),t("li",vars.thumb_list).eq(vars.current_slide).addClass("current-thumb"),t(vars.thumb_list).width()>t(vars.thumb_tray).width()))if("next"==e)0==vars.current_slide?(vars.thumb_page=0,t(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})):t(".current-thumb").offset().left-t(vars.thumb_tray).offset().left>=vars.thumb_interval&&(vars.thumb_page=vars.thumb_page-vars.thumb_interval,t(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"}));else if("prev"==e)if(vars.current_slide==api.options.slides.length-1)vars.thumb_page=Math.floor(t(vars.thumb_list).width()/vars.thumb_interval)*-vars.thumb_interval,t(vars.thumb_list).width()<=-vars.thumb_page&&(vars.thumb_page=vars.thumb_page+vars.thumb_interval),t(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"});else if(t(".current-thumb").offset().left-t(vars.thumb_tray).offset().left<0){if(vars.thumb_page+vars.thumb_interval>0)return!1;vars.thumb_page=vars.thumb_page+vars.thumb_interval,t(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}},afterAnimation:function(){api.options.progress_bar&&!vars.is_paused&&theme.progressBar()},progressBar:function(){t(vars.progress_bar).stop().css({left:-t(window).width()}).animate({left:0},api.options.slide_interval)}},t.supersized.themeVars={progress_delay:!1,thumb_page:!1,thumb_interval:!1,image_path:"img/",play_button:"#pauseplay",next_slide:"#nextslide",prev_slide:"#prevslide",next_thumb:"#nextthumb",prev_thumb:"#prevthumb",slide_caption:"#slidecaption",slide_current:".slidenumber",slide_total:".totalslides",slide_list:"#slide-list",thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",thumb_forward:"#thumb-forward",thumb_back:"#thumb-back",tray_arrow:"#tray-arrow",tray_button:"#tray-button",progress_bar:"#progress-bar"},t.supersized.themeOptions={progress_bar:1,mouse_scrub:0}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var ua={toString:function(){return navigator.userAgent},test:function(t){return this.toString().toLowerCase().indexOf(t.toLowerCase())>-1}};ua.version=(ua.toString().toLowerCase().match(/[\s\S]+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],ua.webkit=ua.test("webkit"),ua.gecko=ua.test("gecko")&&!ua.webkit,ua.opera=ua.test("opera"),ua.ie=ua.test("msie")&&!ua.opera,ua.ie6=ua.ie&&document.compatMode&&"undefined"==typeof document.documentElement.style.maxHeight,ua.ie7=ua.ie&&document.documentElement&&"undefined"!=typeof document.documentElement.style.maxHeight&&"undefined"==typeof XDomainRequest,ua.ie8=ua.ie&&"undefined"!=typeof XDomainRequest;
var domReady=function(){var t=[],e=function(){if(!arguments.callee.done){arguments.callee.done=!0;for(var e=0;e<t.length;e++)t[e]()}};return document.addEventListener&&document.addEventListener("DOMContentLoaded",e,!1),ua.ie&&(!function(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,50)}e()}(),document.onreadystatechange=function(){"complete"===document.readyState&&(document.onreadystatechange=null,e())}),ua.webkit&&document.readyState&&!function(){"loading"!==document.readyState?e():setTimeout(arguments.callee,10)}(),window.onload=e,function(e){return"function"==typeof e&&(t[t.length]=e),e}}(),cssHelper=function(){var t,e={BLOCKS:/[^\s{][^{]*\{(?:[^{}]*\{[^{}]*\}[^{}]*|[^{}]*)*\}/g,BLOCKS_INSIDE:/[^\s{][^{]*\{[^{}]*\}/g,DECLARATIONS:/[a-zA-Z\-]+[^;]*:[^;]+;/g,RELATIVE_URLS:/url\(['"]?([^\/\)'"][^:\)'"]+)['"]?\)/g,REDUNDANT_COMPONENTS:/(?:\/\*([^*\\\\]|\*(?!\/))+\*\/|@import[^;]+;)/g,REDUNDANT_WHITESPACE:/\s*(,|:|;|\{|\})\s*/g,MORE_WHITESPACE:/\s{2,}/g,FINAL_SEMICOLONS:/;\}/g,NOT_WHITESPACE:/\S+/g},i=!1,o=[],n=function(t){"function"==typeof t&&(o[o.length]=t)},s=function(){for(var e=0;e<o.length;e++)o[e](t)},r={},a=function(t,e){if(r[t]){var i=r[t].listeners;if(i)for(var o=0;o<i.length;o++)i[o](e)}},l=function(t,e,i){if(ua.ie&&!window.XMLHttpRequest&&(window.XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")}),!XMLHttpRequest)return"";var o=new XMLHttpRequest;try{o.open("get",t,!0),o.setRequestHeader("X_REQUESTED_WITH","XMLHttpRequest")}catch(n){return void i()}var s=!1;setTimeout(function(){s=!0},5e3),document.documentElement.style.cursor="progress",o.onreadystatechange=function(){4!==o.readyState||s||(!o.status&&"file:"===location.protocol||o.status>=200&&o.status<300||304===o.status||navigator.userAgent.indexOf("Safari")>-1&&"undefined"==typeof o.status?e(o.responseText):i(),document.documentElement.style.cursor="",o=null)},o.send("")},c=function(t){return t=t.replace(e.REDUNDANT_COMPONENTS,""),t=t.replace(e.REDUNDANT_WHITESPACE,"$1"),t=t.replace(e.MORE_WHITESPACE," "),t=t.replace(e.FINAL_SEMICOLONS,"}")},d={mediaQueryList:function(t){var i={},o=t.indexOf("{"),n=t.substring(0,o);t=t.substring(o+1,t.length-1);for(var s=[],r=[],a=n.toLowerCase().substring(7).split(","),l=0;l<a.length;l++)s[s.length]=d.mediaQuery(a[l],i);var c=t.match(e.BLOCKS_INSIDE);if(null!==c)for(l=0;l<c.length;l++)r[r.length]=d.rule(c[l],i);return i.getMediaQueries=function(){return s},i.getRules=function(){return r},i.getListText=function(){return n},i.getCssText=function(){return t},i},mediaQuery:function(t,i){t=t||"";for(var o,n=!1,s=[],r=!0,a=t.match(e.NOT_WHITESPACE),l=0;l<a.length;l++){var c=a[l];if(o||"not"!==c&&"only"!==c)if(o){if("("===c.charAt(0)){var d=c.substring(1,c.length-1).split(":");s[s.length]={mediaFeature:d[0],value:d[1]||null}}}else o=c;else"not"===c&&(n=!0)}return{getList:function(){return i||null},getValid:function(){return r},getNot:function(){return n},getMediaType:function(){return o},getExpressions:function(){return s}}},rule:function(t,e){for(var i={},o=t.indexOf("{"),n=t.substring(0,o),s=n.split(","),r=[],a=t.substring(o+1,t.length-1).split(";"),l=0;l<a.length;l++)r[r.length]=d.declaration(a[l],i);return i.getMediaQueryList=function(){return e||null},i.getSelectors=function(){return s},i.getSelectorText=function(){return n},i.getDeclarations=function(){return r},i.getPropertyValue=function(t){for(var e=0;e<r.length;e++)if(r[e].getProperty()===t)return r[e].getValue();return null},i},declaration:function(t,e){var i=t.indexOf(":"),o=t.substring(0,i),n=t.substring(i+1);return{getRule:function(){return e||null},getProperty:function(){return o},getValue:function(){return n}}}},u=function(i){if("string"==typeof i.cssHelperText){var o={mediaQueryLists:[],rules:[],selectors:{},declarations:[],properties:{}},n=o.mediaQueryLists,s=o.rules,r=i.cssHelperText.match(e.BLOCKS);if(null!==r)for(var a=0;a<r.length;a++)"@media "===r[a].substring(0,7)?(n[n.length]=d.mediaQueryList(r[a]),s=o.rules=s.concat(n[n.length-1].getRules())):s[s.length]=d.rule(r[a]);var l=o.selectors,c=function(t){for(var e=t.getSelectors(),i=0;i<e.length;i++){var o=e[i];l[o]||(l[o]=[]),l[o][l[o].length]=t}};for(a=0;a<s.length;a++)c(s[a]);var u=o.declarations;for(a=0;a<s.length;a++)u=o.declarations=u.concat(s[a].getDeclarations());var h=o.properties;for(a=0;a<u.length;a++){var p=u[a].getProperty();h[p]||(h[p]=[]),h[p][h[p].length]=u[a]}return i.cssHelperParsed=o,t[t.length]=i,o}},h=function(t,e){return t.cssHelperText=c(e||t.innerHTML),u(t)},p=function(){i=!0,t=[];for(var o=[],n=function(){for(var t=0;t<o.length;t++)u(o[t]);var e=document.getElementsByTagName("style");for(t=0;t<e.length;t++)h(e[t]);i=!1,s()},r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var d=r[a];d.getAttribute("rel").indexOf("style")>-1&&d.href&&0!==d.href.length&&!d.disabled&&(o[o.length]=d)}if(o.length>0){var p=0,f=function(){p++,p===o.length&&n()},m=function(t){var i=t.href;l(i,function(o){o=c(o).replace(e.RELATIVE_URLS,"url("+i.substring(0,i.lastIndexOf("/"))+"/$1)"),t.cssHelperText=o,f()},f)};for(a=0;a<o.length;a++)m(o[a])}else n()},f={mediaQueryLists:"array",rules:"array",selectors:"object",declarations:"array",properties:"object"},m={mediaQueryLists:null,rules:null,selectors:null,declarations:null,properties:null},g=function(t,e){if(null!==m[t]){if("array"===f[t])return m[t]=m[t].concat(e);var i=m[t];for(var o in e)e.hasOwnProperty(o)&&(i[o]=i[o]?i[o].concat(e[o]):e[o]);return i}},v=function(e){m[e]="array"===f[e]?[]:{};for(var i=0;i<t.length;i++)g(e,t[i].cssHelperParsed[e]);return m[e]};domReady(function(){for(var t=document.body.getElementsByTagName("*"),e=0;e<t.length;e++)t[e].checkedByCssHelper=!0;document.implementation.hasFeature("MutationEvents","2.0")||window.MutationEvent?document.body.addEventListener("DOMNodeInserted",function(t){var e=t.target;1===e.nodeType&&(a("DOMElementInserted",e),e.checkedByCssHelper=!0)},!1):setInterval(function(){for(var t=document.body.getElementsByTagName("*"),e=0;e<t.length;e++)t[e].checkedByCssHelper||(a("DOMElementInserted",t[e]),t[e].checkedByCssHelper=!0)},1e3)});var y=function(t){return"undefined"!=typeof window.innerWidth?window["inner"+t]:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?document.documentElement["client"+t]:void 0};return{addStyle:function(t,e){var i=document.createElement("style");return i.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),i.addedWithCssHelper=!0,"undefined"==typeof e||e===!0?cssHelper.parsed(function(){var e=h(i,t);for(var o in e)e.hasOwnProperty(o)&&g(o,e[o]);a("newStyleParsed",i)}):i.parsingDisallowed=!0,i},removeStyle:function(t){return t.parentNode.removeChild(t)},parsed:function(e){i?n(e):"undefined"!=typeof t?"function"==typeof e&&e(t):(n(e),p())},mediaQueryLists:function(t){cssHelper.parsed(function(){t(m.mediaQueryLists||v("mediaQueryLists"))})},rules:function(t){cssHelper.parsed(function(){t(m.rules||v("rules"))})},selectors:function(t){cssHelper.parsed(function(){t(m.selectors||v("selectors"))})},declarations:function(t){cssHelper.parsed(function(){t(m.declarations||v("declarations"))})},properties:function(t){cssHelper.parsed(function(){t(m.properties||v("properties"))})},broadcast:a,addListener:function(t,e){"function"==typeof e&&(r[t]||(r[t]={listeners:[]}),r[t].listeners[r[t].listeners.length]=e)},removeListener:function(t,e){if("function"==typeof e&&r[t])for(var i=r[t].listeners,o=0;o<i.length;o++)i[o]===e&&(i.splice(o,1),o-=1)},getViewportWidth:function(){return y("Width")},getViewportHeight:function(){return y("Height")}}}();domReady(function(){var t,e={LENGTH_UNIT:/[0-9]+(em|ex|px|in|cm|mm|pt|pc)$/,RESOLUTION_UNIT:/[0-9]+(dpi|dpcm)$/,ASPECT_RATIO:/^[0-9]+\/[0-9]+$/,ABSOLUTE_VALUE:/^[0-9]*(\.[0-9]+)*$/},i=[],o=function(){var t="css3-mediaqueries-test",e=document.createElement("div");e.id=t;var i=cssHelper.addStyle("@media all and (width) { #"+t+" { width: 1px !important; } }",!1);document.body.appendChild(e);var n=1===e.offsetWidth;return i.parentNode.removeChild(i),e.parentNode.removeChild(e),o=function(){return n},n},n=function(){t=document.createElement("div"),t.style.cssText="position:absolute;top:-9999em;left:-9999em;margin:0;border:none;padding:0;width:1em;font-size:1em;",document.body.appendChild(t),16!==t.offsetWidth&&(t.style.fontSize=16/t.offsetWidth+"em"),t.style.width=""},s=function(e){t.style.width=e;var i=t.offsetWidth;return t.style.width="",i},r=function(t,i){var o=t.length,n="min-"===t.substring(0,4),r=!n&&"max-"===t.substring(0,4);if(null!==i){var a,l;if(e.LENGTH_UNIT.exec(i))a="length",l=s(i);else if(e.RESOLUTION_UNIT.exec(i)){a="resolution",l=parseInt(i,10);var c=i.substring((l+"").length)}else e.ASPECT_RATIO.exec(i)?(a="aspect-ratio",l=i.split("/")):e.ABSOLUTE_VALUE?(a="absolute",l=i):a="unknown"}var d,u;if("device-width"===t.substring(o-12,o))return d=screen.width,null!==i?"length"===a?n&&d>=l||r&&l>d||!n&&!r&&d===l:!1:d>0;if("device-height"===t.substring(o-13,o))return u=screen.height,null!==i?"length"===a?n&&u>=l||r&&l>u||!n&&!r&&u===l:!1:u>0;if("width"===t.substring(o-5,o))return d=document.documentElement.clientWidth||document.body.clientWidth,null!==i?"length"===a?n&&d>=l||r&&l>d||!n&&!r&&d===l:!1:d>0;if("height"===t.substring(o-6,o))return u=document.documentElement.clientHeight||document.body.clientHeight,null!==i?"length"===a?n&&u>=l||r&&l>u||!n&&!r&&u===l:!1:u>0;if("device-aspect-ratio"===t.substring(o-19,o))return"aspect-ratio"===a&&screen.width*l[1]===screen.height*l[0];if("color-index"===t.substring(o-11,o)){var h=Math.pow(2,screen.colorDepth);return null!==i?"absolute"===a?n&&h>=l||r&&l>h||!n&&!r&&h===l:!1:h>0}if("color"===t.substring(o-5,o)){var p=screen.colorDepth;return null!==i?"absolute"===a?n&&p>=l||r&&l>p||!n&&!r&&p===l:!1:p>0}if("resolution"===t.substring(o-10,o)){var f;return f=s("dpcm"===c?"1cm":"1in"),null!==i?"resolution"===a?n&&f>=l||r&&l>f||!n&&!r&&f===l:!1:f>0}return!1},a=function(t){var e=t.getValid(),i=t.getExpressions(),o=i.length;if(o>0){for(var n=0;o>n&&e;n++)e=r(i[n].mediaFeature,i[n].value);var s=t.getNot();return e&&!s||s&&!e}},l=function(t){for(var e=t.getMediaQueries(),o={},n=0;n<e.length;n++)a(e[n])&&(o[e[n].getMediaType()]=!0);var s=[],r=0;for(var l in o)o.hasOwnProperty(l)&&(r>0&&(s[r++]=","),s[r++]=l);s.length>0&&(i[i.length]=cssHelper.addStyle("@media "+s.join("")+"{"+t.getCssText()+"}",!1))},c=function(t){for(var e=0;e<t.length;e++)l(t[e]);ua.ie?(document.documentElement.style.display="block",setTimeout(function(){document.documentElement.style.display=""},0),setTimeout(function(){cssHelper.broadcast("cssMediaQueriesTested")},100)):cssHelper.broadcast("cssMediaQueriesTested")},d=function(){for(var t=0;t<i.length;t++)cssHelper.removeStyle(i[t]);i=[],cssHelper.mediaQueryLists(c)},u=0,h=function(){var t=cssHelper.getViewportWidth(),e=cssHelper.getViewportHeight();if(ua.ie){var i=document.createElement("div");i.style.position="absolute",i.style.top="-9999em",i.style.overflow="scroll",document.body.appendChild(i),u=i.offsetWidth-i.clientWidth,document.body.removeChild(i)}var n,s=function(){var i=cssHelper.getViewportWidth(),s=cssHelper.getViewportHeight();(Math.abs(i-t)>u||Math.abs(s-e)>u)&&(t=i,e=s,clearTimeout(n),n=setTimeout(function(){o()?cssHelper.broadcast("cssMediaQueriesTested"):d()},500))};window.onresize=function(){var t=window.onresize||function(){};return function(){t(),s()}}()},p=document.documentElement;return p.style.marginLeft="-32767px",setTimeout(function(){p.style.marginTop=""},2e4),function(){o()?p.style.marginLeft="":(cssHelper.addListener("newStyleParsed",function(t){c(t.cssHelperParsed.mediaQueryLists)}),cssHelper.addListener("cssMediaQueriesTested",function(){ua.ie&&(p.style.width="1px"),setTimeout(function(){p.style.width="",p.style.marginLeft=""},0),cssHelper.removeListener("cssMediaQueriesTested",arguments.callee)}),n(),d()),h()}}());try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}!function(t){t(document).ready(function(){}),t.supersized=function(e){var i="#supersized",o=this;o.$el=t(i),o.el=i,vars=t.supersized.vars,o.$el.data("supersized",o),api=o.$el.data("supersized"),o.init=function(){t.supersized.vars=t.extend(t.supersized.vars,t.supersized.themeVars),t.supersized.vars.options=t.extend({},t.supersized.defaultOptions,t.supersized.themeOptions,e),o.options=t.supersized.vars.options,o._build()},o._build=function(){for(var e,i,n=0,s="",r="",a="";n<=o.options.slides.length-1;){switch(o.options.slide_links){case"num":e=n;break;case"name":e=o.options.slides[n].title;break;case"blank":e=""}s=s+'<li class="slide-'+n+'"></li>',n==o.options.start_slide-1?(o.options.slide_links&&(r=r+'<li class="slide-link-'+n+' current-slide"><a>'+e+"</a></li>"),o.options.thumb_links&&(i=o.options.slides[n].thumb?o.options.slides[n].thumb:o.options.slides[n].image,a=a+'<li class="thumb'+n+' current-thumb"><img src="'+i+'"/></li>')):(o.options.slide_links&&(r=r+'<li class="slide-link-'+n+'" ><a>'+e+"</a></li>"),o.options.thumb_links&&(i=o.options.slides[n].thumb?o.options.slides[n].thumb:o.options.slides[n].image,a=a+'<li class="thumb'+n+'"><img src="'+i+'"/></li>')),n++}o.options.slide_links&&t(vars.slide_list).html(r),o.options.thumb_links&&vars.thumb_tray.length&&t(vars.thumb_tray).append('<ul id="'+vars.thumb_list.replace("#","")+'">'+a+"</ul>"),t(o.el).append(s),o.options.thumbnail_navigation&&(prevThumb=vars.current_slide-1<0?o.options.slides.length-1:vars.current_slide-1,t(vars.prev_thumb).show().html(t("<img/>").attr("src",o.options.slides[prevThumb].image)),nextThumb=vars.current_slide==o.options.slides.length-1?0:vars.current_slide+1,t(vars.next_thumb).show().html(t("<img/>").attr("src",o.options.slides[nextThumb].image))),o._start()},o._start=function(){vars.current_slide=o.options.start_slide?o.options.start_slide-1:Math.floor(Math.random()*o.options.slides.length);var e=o.options.new_window?' target="_blank"':"";if(3==o.options.performance?o.$el.addClass("speed"):(1==o.options.performance||2==o.options.performance)&&o.$el.addClass("quality"),o.options.random){arr=o.options.slides;for(var i,n,s=arr.length;s;i=parseInt(Math.random()*s),n=arr[--s],arr[s]=arr[i],arr[i]=n);o.options.slides=arr}if(o.options.slides.length>1){if(o.options.slides.length>2){loadPrev=vars.current_slide-1<0?o.options.slides.length-1:vars.current_slide-1;var r=o.options.slides[loadPrev].url?"href='"+o.options.slides[loadPrev].url+"'":"",a=t('<img src="'+o.options.slides[loadPrev].image+'"/>'),l=o.el+" li:eq("+loadPrev+")";a.appendTo(l).wrap("<a "+r+e+"></a>").parent().parent().addClass("image-loading prevslide"),a.load(function(){t(this).data("origWidth",t(this).width()).data("origHeight",t(this).height()),o.resizeNow()})}}else o.options.slideshow=0;r=api.getField("url")?"href='"+api.getField("url")+"'":"";var c=t('<img src="'+api.getField("image")+'"/>'),d=o.el+" li:eq("+vars.current_slide+")";if(c.appendTo(d).wrap("<a "+r+e+"></a>").parent().parent().addClass("image-loading activeslide"),c.load(function(){o._origDim(t(this)),o.resizeNow(),o.launch(),"undefined"!=typeof theme&&"function"==typeof theme._init&&theme._init()}),o.options.slides.length>1){loadNext=vars.current_slide==o.options.slides.length-1?0:vars.current_slide+1,r=o.options.slides[loadNext].url?"href='"+o.options.slides[loadNext].url+"'":"";var u=t('<img src="'+o.options.slides[loadNext].image+'"/>'),h=o.el+" li:eq("+loadNext+")";u.appendTo(h).wrap("<a "+r+e+"></a>").parent().parent().addClass("image-loading"),u.load(function(){t(this).data("origWidth",t(this).width()).data("origHeight",t(this).height()),o.resizeNow()})}o.$el.css("visibility","hidden"),t(".load-item").hide()},o.launch=function(){o.$el.css("visibility","visible"),t("#supersized-loader").remove(),"undefined"!=typeof theme&&"function"==typeof theme.beforeAnimation&&theme.beforeAnimation("next"),t(".load-item").show(),o.options.keyboard_nav&&t(document.documentElement).keyup(function(e){return vars.in_animation?!1:t(document.activeElement).is("input, textarea")?!1:void(37==e.keyCode||40==e.keyCode?(clearInterval(vars.slideshow_interval),o.prevSlide()):39==e.keyCode||38==e.keyCode?(clearInterval(vars.slideshow_interval),o.nextSlide()):32!=e.keyCode||vars.hover_pause||(clearInterval(vars.slideshow_interval),o.playToggle()))}),o.options.slideshow&&o.options.pause_hover&&t(o.el).hover(function(){return vars.in_animation?!1:(vars.hover_pause=!0,void(vars.is_paused||(vars.hover_pause="resume",o.playToggle())))},function(){"resume"==vars.hover_pause&&(o.playToggle(),vars.hover_pause=!1)}),o.options.slide_links&&t(vars.slide_list+"> li").click(function(){return index=t(vars.slide_list+"> li").index(this),targetSlide=index+1,o.goTo(targetSlide),!1}),o.options.thumb_links&&t(vars.thumb_list+"> li").click(function(){return index=t(vars.thumb_list+"> li").index(this),targetSlide=index+1,api.goTo(targetSlide),!1}),o.options.slideshow&&o.options.slides.length>1&&(o.options.autoplay&&o.options.slides.length>1?vars.slideshow_interval=setInterval(o.nextSlide,o.options.slide_interval):vars.is_paused=!0,t(".load-item img").bind("contextmenu mousedown",function(){return!1})),t(window).resize(function(){o.resizeNow()})},o.resizeNow=function(){return o.$el.each(function(){return t("img",o.el).each(function(){function e(t){t?(thisSlide.width()<s||thisSlide.width()<o.options.min_width)&&(thisSlide.width()*n>=o.options.min_height?(thisSlide.width(o.options.min_width),thisSlide.height(thisSlide.width()*n)):i()):o.options.min_height>=r&&!o.options.fit_landscape?s*n>=o.options.min_height||s*n>=o.options.min_height&&1>=n?(thisSlide.width(s),thisSlide.height(s*n)):n>1?(thisSlide.height(o.options.min_height),thisSlide.width(thisSlide.height()/n)):thisSlide.width()<s&&(thisSlide.width(s),thisSlide.height(thisSlide.width()*n)):(thisSlide.width(s),thisSlide.height(s*n))}function i(t){t?thisSlide.height()<r&&(thisSlide.height()/n>=o.options.min_width?(thisSlide.height(o.options.min_height),thisSlide.width(thisSlide.height()/n)):e(!0)):o.options.min_width>=s?r/n>=o.options.min_width||n>1?(thisSlide.height(r),thisSlide.width(r/n)):1>=n&&(thisSlide.width(o.options.min_width),thisSlide.height(thisSlide.width()*n)):(thisSlide.height(r),thisSlide.width(r/n))}thisSlide=t(this);var n=(thisSlide.data("origHeight")/thisSlide.data("origWidth")).toFixed(2),s=t(window).width(),r=o.$el.height();o.options.fit_always?r/s>n?e():i():r<=o.options.min_height&&s<=o.options.min_width?r/s>n?o.options.fit_landscape&&1>n?e(!0):i(!0):o.options.fit_portrait&&n>=1?i(!0):e(!0):s<=o.options.min_width?r/s>n?o.options.fit_landscape&&1>n?e(!0):i():o.options.fit_portrait&&n>=1?i():e(!0):r<=o.options.min_height?r/s>n?o.options.fit_landscape&&1>n?e():i(!0):o.options.fit_portrait&&n>=1?i(!0):e():r/s>n?o.options.fit_landscape&&1>n?e():i():o.options.fit_portrait&&n>=1?i():e(),thisSlide.parents("li").hasClass("image-loading")&&t(".image-loading").removeClass("image-loading"),o.options.horizontal_center&&t(this).css("left",(s-t(this).width())/2),o.options.vertical_center&&t(this).css("top",(r-t(this).height())/2)}),o.options.image_protect&&t("img",o.el).bind("contextmenu mousedown",function(){return!1}),!1})},o.nextSlide=function(){if(vars.in_animation||!api.options.slideshow)return!1;vars.in_animation=!0,clearInterval(vars.slideshow_interval);var e=(o.options.slides,o.$el.find(".activeslide"));t(".prevslide").removeClass("prevslide"),e.removeClass("activeslide").addClass("prevslide"),vars.current_slide+1==o.options.slides.length?vars.current_slide=0:vars.current_slide++;{var i=t(o.el+" li:eq("+vars.current_slide+")");o.$el.find(".prevslide")}1==o.options.performance&&o.$el.removeClass("quality").addClass("speed"),loadSlide=!1,loadSlide=vars.current_slide==o.options.slides.length-1?0:vars.current_slide+1;var n=o.el+" li:eq("+loadSlide+")";if(!t(n).html()){var s=o.options.new_window?' target="_blank"':"";imageLink=o.options.slides[loadSlide].url?"href='"+o.options.slides[loadSlide].url+"'":"";var r=t('<img src="'+o.options.slides[loadSlide].image+'"/>');r.appendTo(n).wrap("<a "+imageLink+s+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),r.load(function(){o._origDim(t(this)),o.resizeNow()})}switch(1==o.options.thumbnail_navigation&&(prevThumb=vars.current_slide-1<0?o.options.slides.length-1:vars.current_slide-1,t(vars.prev_thumb).html(t("<img/>").attr("src",o.options.slides[prevThumb].image)),nextThumb=loadSlide,t(vars.next_thumb).html(t("<img/>").attr("src",o.options.slides[nextThumb].image))),"undefined"!=typeof theme&&"function"==typeof theme.beforeAnimation&&theme.beforeAnimation("next"),o.options.slide_links&&(t(".current-slide").removeClass("current-slide"),t(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")),i.css("visibility","hidden").addClass("activeslide"),o.options.transition){case 0:case"none":i.css("visibility","visible"),vars.in_animation=!1,o.afterAnimation();break;case 1:case"fade":i.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 2:case"slideTop":i.css({top:-o.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 3:case"slideRight":i.css({left:o.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 4:case"slideBottom":i.css({top:o.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 5:case"slideLeft":i.css({left:-o.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 6:case"carouselRight":i.css({left:o.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()}),e.animate({left:-o.$el.width(),avoidTransforms:!1},o.options.transition_speed);break;case 7:case"carouselLeft":i.css({left:-o.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()}),e.animate({left:o.$el.width(),avoidTransforms:!1},o.options.transition_speed)}return!1},o.prevSlide=function(){if(vars.in_animation||!api.options.slideshow)return!1;vars.in_animation=!0,clearInterval(vars.slideshow_interval);var e=(o.options.slides,o.$el.find(".activeslide"));t(".prevslide").removeClass("prevslide"),e.removeClass("activeslide").addClass("prevslide"),0==vars.current_slide?vars.current_slide=o.options.slides.length-1:vars.current_slide--;{var i=t(o.el+" li:eq("+vars.current_slide+")");o.$el.find(".prevslide")}1==o.options.performance&&o.$el.removeClass("quality").addClass("speed"),loadSlide=vars.current_slide;var n=o.el+" li:eq("+loadSlide+")";if(!t(n).html()){var s=o.options.new_window?' target="_blank"':"";imageLink=o.options.slides[loadSlide].url?"href='"+o.options.slides[loadSlide].url+"'":"";var r=t('<img src="'+o.options.slides[loadSlide].image+'"/>');r.appendTo(n).wrap("<a "+imageLink+s+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),r.load(function(){o._origDim(t(this)),o.resizeNow()})}switch(1==o.options.thumbnail_navigation&&(prevThumb=0==loadSlide?o.options.slides.length-1:loadSlide-1,t(vars.prev_thumb).html(t("<img/>").attr("src",o.options.slides[prevThumb].image)),nextThumb=vars.current_slide==o.options.slides.length-1?0:vars.current_slide+1,t(vars.next_thumb).html(t("<img/>").attr("src",o.options.slides[nextThumb].image))),"undefined"!=typeof theme&&"function"==typeof theme.beforeAnimation&&theme.beforeAnimation("prev"),o.options.slide_links&&(t(".current-slide").removeClass("current-slide"),t(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")),i.css("visibility","hidden").addClass("activeslide"),o.options.transition){case 0:case"none":i.css("visibility","visible"),vars.in_animation=!1,o.afterAnimation();break;case 1:case"fade":i.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 2:case"slideTop":i.css({top:o.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 3:case"slideRight":i.css({left:-o.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 4:case"slideBottom":i.css({top:-o.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 5:case"slideLeft":i.css({left:o.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()});break;case 6:case"carouselRight":i.css({left:-o.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()}),e.css({left:0}).animate({left:o.$el.width(),avoidTransforms:!1},o.options.transition_speed);break;case 7:case"carouselLeft":i.css({left:o.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},o.options.transition_speed,function(){o.afterAnimation()}),e.css({left:0}).animate({left:-o.$el.width(),avoidTransforms:!1},o.options.transition_speed)}return!1},o.playToggle=function(){return vars.in_animation||!api.options.slideshow?!1:(vars.is_paused?(vars.is_paused=!1,"undefined"!=typeof theme&&"function"==typeof theme.playToggle&&theme.playToggle("play"),vars.slideshow_interval=setInterval(o.nextSlide,o.options.slide_interval)):(vars.is_paused=!0,"undefined"!=typeof theme&&"function"==typeof theme.playToggle&&theme.playToggle("pause"),clearInterval(vars.slideshow_interval)),!1)},o.goTo=function(e){if(vars.in_animation||!api.options.slideshow)return!1;var i=o.options.slides.length;return 0>e?e=i:e>i&&(e=1),e=i-e+1,clearInterval(vars.slideshow_interval),"undefined"!=typeof theme&&"function"==typeof theme.goTo&&theme.goTo(),vars.current_slide==i-e?(vars.is_paused||(vars.slideshow_interval=setInterval(o.nextSlide,o.options.slide_interval)),!1):(i-e>vars.current_slide?(vars.current_slide=i-e-1,vars.update_images="next",o._placeSlide(vars.update_images)):i-e<vars.current_slide&&(vars.current_slide=i-e+1,vars.update_images="prev",o._placeSlide(vars.update_images)),o.options.slide_links&&(t(vars.slide_list+"> .current-slide").removeClass("current-slide"),t(vars.slide_list+"> li").eq(i-e).addClass("current-slide")),void(o.options.thumb_links&&(t(vars.thumb_list+"> .current-thumb").removeClass("current-thumb"),t(vars.thumb_list+"> li").eq(i-e).addClass("current-thumb"))))},o._placeSlide=function(e){var i=o.options.new_window?' target="_blank"':"";if(loadSlide=!1,"next"==e){loadSlide=vars.current_slide==o.options.slides.length-1?0:vars.current_slide+1;var n=o.el+" li:eq("+loadSlide+")";if(!t(n).html()){var i=o.options.new_window?' target="_blank"':"";imageLink=o.options.slides[loadSlide].url?"href='"+o.options.slides[loadSlide].url+"'":"";var s=t('<img src="'+o.options.slides[loadSlide].image+'"/>');s.appendTo(n).wrap("<a "+imageLink+i+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),s.load(function(){o._origDim(t(this)),o.resizeNow()})}o.nextSlide()}else if("prev"==e){loadSlide=vars.current_slide-1<0?o.options.slides.length-1:vars.current_slide-1;var n=o.el+" li:eq("+loadSlide+")";if(!t(n).html()){var i=o.options.new_window?' target="_blank"':"";imageLink=o.options.slides[loadSlide].url?"href='"+o.options.slides[loadSlide].url+"'":"";var s=t('<img src="'+o.options.slides[loadSlide].image+'"/>');s.appendTo(n).wrap("<a "+imageLink+i+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),s.load(function(){o._origDim(t(this)),o.resizeNow()})}o.prevSlide()}},o._origDim=function(t){t.data("origWidth",t.width()).data("origHeight",t.height())},o.afterAnimation=function(){return 1==o.options.performance&&o.$el.removeClass("speed").addClass("quality"),vars.update_images&&(setPrev=vars.current_slide-1<0?o.options.slides.length-1:vars.current_slide-1,vars.update_images=!1,t(".prevslide").removeClass("prevslide"),t(o.el+" li:eq("+setPrev+")").addClass("prevslide")),vars.in_animation=!1,!vars.is_paused&&o.options.slideshow&&(vars.slideshow_interval=setInterval(o.nextSlide,o.options.slide_interval),o.options.stop_loop&&vars.current_slide==o.options.slides.length-1&&o.playToggle()),"undefined"!=typeof theme&&"function"==typeof theme.afterAnimation&&theme.afterAnimation(),!1},o.getField=function(t){return o.options.slides[vars.current_slide][t]},o.init()},t.supersized.vars={thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",slide_list:"#slide-list",current_slide:0,in_animation:!1,is_paused:!1,hover_pause:!1,slideshow_interval:!1,update_images:!1,options:{}},t.supersized.defaultOptions={slideshow:1,autoplay:1,start_slide:1,stop_loop:0,random:0,slide_interval:5e3,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,fit_always:0,fit_landscape:0,fit_portrait:1,min_width:0,min_height:0,horizontal_center:1,vertical_center:1,slide_links:1,thumb_links:1,thumbnail_navigation:0},t.fn.supersized=function(e){return this.each(function(){new t.supersized(e)})}}(jQuery);